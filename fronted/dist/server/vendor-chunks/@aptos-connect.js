"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@aptos-connect";
exports.ids = ["vendor-chunks/@aptos-connect"];
exports.modules = {

/***/ "(ssr)/./node_modules/@aptos-connect/wallet-adapter-plugin/dist/index.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@aptos-connect/wallet-adapter-plugin/dist/index.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AptosConnectAccount: () => (/* binding */ AptosConnectAccount),\n/* harmony export */   AptosConnectAppleWallet: () => (/* binding */ AptosConnectAppleWallet),\n/* harmony export */   AptosConnectGoogleWallet: () => (/* binding */ AptosConnectGoogleWallet),\n/* harmony export */   AptosConnectWallet: () => (/* binding */ AptosConnectWallet),\n/* harmony export */   registerAptosConnect: () => (/* binding */ registerAptosConnect)\n/* harmony export */ });\n/* harmony import */ var _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aptos-labs/wallet-standard */ \"(ssr)/./node_modules/@aptos-labs/wallet-standard/dist/esm/index.mjs\");\n/* harmony import */ var _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aptos-labs/ts-sdk */ \"(ssr)/./node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs\");\n/* harmony import */ var _identity_connect_crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @identity-connect/crypto */ \"(ssr)/./node_modules/@identity-connect/crypto/dist/index.mjs\");\n/* harmony import */ var _identity_connect_dapp_sdk__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @identity-connect/dapp-sdk */ \"(ssr)/./node_modules/@identity-connect/dapp-sdk/dist/index.mjs\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/index.ts\n\n\n// src/AptosConnectGoogleWallet.ts\n\n\n// src/AptosConnectWallet.ts\n\n\n\n\n\n// src/AptosConnectAccount.ts\n\n\nvar _address, _publicKey;\nvar AptosConnectAccount = class {\n  constructor({ address, ansName, publicKey }) {\n    // region AptosWalletAccount\n    this.chains = _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.APTOS_CHAINS;\n    this.features = [];\n    // endregion\n    // region PetraAccount\n    __privateAdd(this, _address, void 0);\n    __privateAdd(this, _publicKey, void 0);\n    __privateSet(this, _publicKey, publicKey);\n    __privateSet(this, _address, address);\n    this.label = ansName;\n  }\n  get address() {\n    return __privateGet(this, _address).toString();\n  }\n  get publicKey() {\n    return __privateGet(this, _publicKey).toUint8Array();\n  }\n  get signingScheme() {\n    if (__privateGet(this, _publicKey) instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Ed25519PublicKey) {\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.SigningScheme.Ed25519;\n    }\n    if (__privateGet(this, _publicKey) instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.MultiEd25519PublicKey) {\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.SigningScheme.MultiEd25519;\n    }\n    if (__privateGet(this, _publicKey) instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.AnyPublicKey) {\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.SigningScheme.SingleKey;\n    }\n    if (__privateGet(this, _publicKey) instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.MultiKey) {\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.SigningScheme.MultiKey;\n    }\n    throw new Error(\"Unsupported public key type\");\n  }\n  // endregion\n};\n_address = new WeakMap();\n_publicKey = new WeakMap();\n\n// src/helpers.ts\n\n\nfunction customAccountToStandardAccount({ address, name, publicKey }) {\n  return new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AccountInfo({\n    address,\n    ansName: name,\n    publicKey\n  });\n}\nfunction unwrapUserResponse(response, callback) {\n  if (response.status === \"dismissed\") {\n    return { status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.REJECTED };\n  }\n  return { args: callback(response.args), status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED };\n}\nfunction networkToChainId(network) {\n  switch (network) {\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Network.MAINNET:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.NetworkToChainId.mainnet;\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Network.TESTNET:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.NetworkToChainId.testnet;\n    default:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.NetworkToChainId.devnet;\n  }\n}\n\n// src/AptosConnectWallet.ts\nvar _AptosConnectWallet = class _AptosConnectWallet {\n  constructor({\n    claimSecretKey,\n    network = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Network.MAINNET,\n    preferredWalletName,\n    ...clientConfig\n  }) {\n    // endregion\n    // region AptosWallet\n    this.version = \"1.0.0\";\n    this.chains = _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.APTOS_CHAINS;\n    this.client = new _identity_connect_dapp_sdk__WEBPACK_IMPORTED_MODULE_3__.ACDappClient(clientConfig);\n    if (!_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.NetworkToNodeAPI[network]) {\n      throw new Error(\"Network not supported\");\n    }\n    const aptosConfig = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.AptosConfig({ network });\n    this.aptosClient = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Aptos(aptosConfig);\n    this.preferredWalletName = preferredWalletName;\n    this.claimOptions = claimSecretKey ? { network, secretKey: new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.Ed25519PrivateKey(claimSecretKey) } : void 0;\n  }\n  static get connectedAccount() {\n    const serialized = localStorage.getItem(_AptosConnectWallet.connectedAccountStorageKey);\n    if (!serialized) {\n      return void 0;\n    }\n    try {\n      const { address, publicKey } = JSON.parse(serialized);\n      return new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AccountInfo({\n        address: _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.AccountAddress.from(address),\n        publicKey: (0,_identity_connect_crypto__WEBPACK_IMPORTED_MODULE_2__.deserializePublicKeyB64)(publicKey)\n      });\n    } catch (err) {\n      console.warn(\"Inconsistent state, resetting it\");\n      this.connectedAccount = void 0;\n      return void 0;\n    }\n  }\n  static set connectedAccount(value) {\n    if (value !== void 0) {\n      const serialized = {\n        address: value.address.toString(),\n        publicKey: (0,_identity_connect_crypto__WEBPACK_IMPORTED_MODULE_2__.serializePublicKeyB64)(value.publicKey)\n      };\n      localStorage.setItem(_AptosConnectWallet.connectedAccountStorageKey, JSON.stringify(serialized));\n    } else {\n      localStorage.removeItem(_AptosConnectWallet.connectedAccountStorageKey);\n    }\n  }\n  // eslint-disable-next-line class-methods-use-this\n  get accounts() {\n    const { connectedAccount } = _AptosConnectWallet;\n    return connectedAccount ? [new AptosConnectAccount(connectedAccount)] : [];\n  }\n  async connect() {\n    const { connectedAccount } = _AptosConnectWallet;\n    if (connectedAccount !== void 0) {\n      return { args: connectedAccount, status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED };\n    }\n    const response = await this.client.connect({\n      claimOptions: this.claimOptions,\n      preferredWalletName: this.preferredWalletName\n    });\n    if (response.status === \"dismissed\") {\n      return { status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.REJECTED };\n    }\n    const newConnectedAccount = customAccountToStandardAccount(response.args.account);\n    _AptosConnectWallet.connectedAccount = newConnectedAccount;\n    return {\n      args: newConnectedAccount,\n      status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED\n    };\n  }\n  async disconnect() {\n    const { connectedAccount } = _AptosConnectWallet;\n    if (connectedAccount) {\n      await this.client.disconnect(connectedAccount.address);\n      _AptosConnectWallet.connectedAccount = void 0;\n    }\n  }\n  async signIn(input) {\n    const response = await this.client.signIn({ network: this.aptosClient.config.network, ...input });\n    if (response.status === \"dismissed\") {\n      return { status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.REJECTED };\n    }\n    const output = response.args;\n    _AptosConnectWallet.connectedAccount = output.account;\n    return { args: output, status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED };\n  }\n  // eslint-disable-next-line class-methods-use-this\n  async getAccount() {\n    const { connectedAccount } = _AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletError(_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletErrorCode.Unauthorized);\n    }\n    return customAccountToStandardAccount(connectedAccount);\n  }\n  async getNetwork() {\n    const { network } = this.aptosClient.config;\n    const chainId = await this.aptosClient.getChainId();\n    const url = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.NetworkToNodeAPI[network];\n    return {\n      chainId,\n      name: network,\n      url\n    };\n  }\n  async signMessage(input) {\n    const { connectedAccount } = _AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletError(_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletErrorCode.Unauthorized);\n    }\n    const chainId = networkToChainId(this.aptosClient.config.network);\n    const { message, nonce } = input;\n    const encoder = new TextEncoder();\n    const messageBytes = encoder.encode(message);\n    const nonceBytes = encoder.encode(nonce);\n    const response = await this.client.signMessage({\n      chainId,\n      message: messageBytes,\n      nonce: nonceBytes,\n      signerAddress: connectedAccount.address\n    });\n    if (response.status === \"dismissed\") {\n      return { status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.REJECTED };\n    }\n    const { fullMessage, signature } = response.args;\n    const extraResponseArgs = {\n      address: connectedAccount.address.toString(),\n      application: this.client.dappInfo.domain,\n      chainId,\n      message,\n      nonce,\n      prefix: \"APTOS\"\n    };\n    return {\n      args: {\n        fullMessage,\n        signature,\n        ...extraResponseArgs\n      },\n      status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED\n    };\n  }\n  async signTransaction(txnOrArgs, _asFeePayer) {\n    const { connectedAccount } = _AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletError(_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletErrorCode.Unauthorized);\n    }\n    if (\"bcsToBytes\" in txnOrArgs) {\n      const transaction = txnOrArgs;\n      const feePayer = transaction.feePayerAddress ? { address: transaction.feePayerAddress } : void 0;\n      const secondarySigners = transaction.secondarySignerAddresses?.map((address) => ({ address }));\n      const response2 = await this.client.signTransaction({\n        feePayer,\n        secondarySigners,\n        signerAddress: connectedAccount.address,\n        transaction: transaction.rawTransaction\n      });\n      return unwrapUserResponse(response2, (args) => args.authenticator);\n    }\n    const requestArgs = txnOrArgs;\n    const response = await this.client.signTransaction({\n      ...requestArgs,\n      signerAddress: connectedAccount.address\n    });\n    return unwrapUserResponse(response, (responseArgs) => {\n      const { authenticator, rawTransaction } = responseArgs;\n      if (!rawTransaction) {\n        throw new Error(\"Expected raw transaction in response args\");\n      }\n      const secondarySigners = requestArgs.secondarySigners ?? [];\n      let transaction;\n      if (secondarySigners.length > 0) {\n        transaction = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.MultiAgentTransaction(\n          rawTransaction,\n          secondarySigners.map((s) => s.address),\n          requestArgs.feePayer?.address\n        );\n      } else {\n        transaction = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_1__.SimpleTransaction(rawTransaction, requestArgs.feePayer?.address);\n      }\n      return {\n        authenticator,\n        rawTransaction: transaction\n      };\n    });\n  }\n  async signAndSubmitTransaction(args) {\n    const { gasUnitPrice, maxGasAmount, payload } = args;\n    const { connectedAccount } = _AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletError(_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosWalletErrorCode.Unauthorized);\n    }\n    const response = await this.client.signAndSubmitTransaction({\n      gasUnitPrice,\n      maxGasAmount,\n      network: this.aptosClient.config.network,\n      payload,\n      signerAddress: connectedAccount.address\n    });\n    if (response.status === \"dismissed\") {\n      return { status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.REJECTED };\n    }\n    return {\n      args: { hash: response.args.txnHash },\n      status: _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.UserResponseStatus.APPROVED\n    };\n  }\n  // eslint-disable-next-line class-methods-use-this\n  async onAccountChange(_callback) {\n  }\n  // eslint-disable-next-line class-methods-use-this\n  async onNetworkChange(_callback) {\n  }\n  // endregion\n};\n// region connectedAccount\n_AptosConnectWallet.connectedAccountStorageKey = \"@aptos-connect/connectedAccount\";\nvar AptosConnectWallet = _AptosConnectWallet;\n\n// src/config.ts\nvar walletMetadata = {\n  apple: {\n    icon: (\n      // eslint-disable-next-line max-len\n      \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==\"\n    ),\n    name: \"Continue with Apple\",\n    url: \"https://aptosconnect.app\"\n  },\n  google: {\n    icon: (\n      // eslint-disable-next-line max-len\n      \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==\"\n    ),\n    name: \"Continue with Google\",\n    url: \"https://aptosconnect.app\"\n  }\n};\n\n// src/AptosConnectGoogleWallet.ts\nvar AptosConnectGoogleWallet = class extends AptosConnectWallet {\n  constructor(config) {\n    super({ ...config, provider: \"google\" });\n    this.name = walletMetadata.google.name;\n    this.icon = walletMetadata.google.icon;\n    this.url = walletMetadata.google.url;\n  }\n  // region AptosWallet\n  get features() {\n    return {\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosConnectNamespace]: {\n        connect: this.connect.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosDisconnectNamespace]: {\n        disconnect: this.disconnect.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosGetAccountNamespace]: {\n        account: this.getAccount.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosGetNetworkNamespace]: {\n        network: this.getNetwork.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosOnAccountChangeNamespace]: {\n        onAccountChange: this.onAccountChange.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosOnNetworkChangeNamespace]: {\n        onNetworkChange: this.onNetworkChange.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignAndSubmitTransactionNamespace]: {\n        signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),\n        version: \"1.1.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignInNamespace]: {\n        signIn: this.signIn.bind(this),\n        version: \"0.1.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignMessageNamespace]: {\n        signMessage: this.signMessage.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignTransactionNamespace]: {\n        signTransaction: this.signTransaction.bind(this),\n        version: \"1.1\"\n      }\n    };\n  }\n  // endregion\n};\n\n// src/AptosConnectAppleWallet.ts\n\nvar AptosConnectAppleWallet = class extends AptosConnectWallet {\n  constructor(config) {\n    super({ ...config, provider: \"apple\" });\n    this.name = walletMetadata.apple.name;\n    this.icon = walletMetadata.apple.icon;\n    this.url = walletMetadata.apple.url;\n  }\n  // region AptosWallet\n  get features() {\n    return {\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosConnectNamespace]: {\n        connect: this.connect.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosDisconnectNamespace]: {\n        disconnect: this.disconnect.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosGetAccountNamespace]: {\n        account: this.getAccount.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosGetNetworkNamespace]: {\n        network: this.getNetwork.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosOnAccountChangeNamespace]: {\n        onAccountChange: this.onAccountChange.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosOnNetworkChangeNamespace]: {\n        onNetworkChange: this.onNetworkChange.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignAndSubmitTransactionNamespace]: {\n        signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),\n        version: \"1.1.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignInNamespace]: {\n        signIn: this.signIn.bind(this),\n        version: \"0.1.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignMessageNamespace]: {\n        signMessage: this.signMessage.bind(this),\n        version: \"1.0.0\"\n      },\n      [_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.AptosSignTransactionNamespace]: {\n        signTransaction: this.signTransaction.bind(this),\n        version: \"1.1\"\n      }\n    };\n  }\n  // endregion\n};\n\n// src/index.ts\nfunction registerAptosConnect(config = {}) {\n  const googleWalletPlugin = new AptosConnectGoogleWallet(config);\n  const appleWalletPlugin = new AptosConnectAppleWallet(config);\n  (0,_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.registerWallet)(googleWalletPlugin);\n  (0,_aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_0__.registerWallet)(appleWalletPlugin);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFwdG9zLWNvbm5lY3Qvd2FsbGV0LWFkYXB0ZXItcGx1Z2luL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2RDs7QUFFN0Q7QUFZcUM7O0FBRXJDO0FBVTRCO0FBT1M7QUFDcUQ7QUFDaEM7O0FBRTFEO0FBTzRCO0FBQytCO0FBQzNEO0FBQ0E7QUFDQSxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0Esa0JBQWtCLHFFQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdFQUFnQjtBQUNsRSxhQUFhLDZEQUFhO0FBQzFCO0FBQ0Esa0RBQWtELHFFQUFxQjtBQUN2RSxhQUFhLDZEQUFhO0FBQzFCO0FBQ0Esa0RBQWtELDREQUFZO0FBQzlELGFBQWEsNkRBQWE7QUFDMUI7QUFDQSxrREFBa0Qsd0RBQVE7QUFDMUQsYUFBYSw2REFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUMrRDtBQUMrQjtBQUM5RiwwQ0FBMEMsMEJBQTBCO0FBQ3BFLGFBQWEsb0VBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUSwyRUFBa0I7QUFDdkM7QUFDQSxXQUFXLHVDQUF1QywyRUFBa0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1REFBTztBQUNoQixhQUFhLGdFQUFnQjtBQUM3QixTQUFTLHVEQUFPO0FBQ2hCLGFBQWEsZ0VBQWdCO0FBQzdCO0FBQ0EsYUFBYSxnRUFBZ0I7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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QUFPLHNGQUE4QjtBQUNyQztBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU8sK0ZBQXVDO0FBQzlDO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsT0FBTyw2RUFBcUI7QUFDNUI7QUFDQTtBQUNBLE9BQU87QUFDUCxPQUFPLGtGQUEwQjtBQUNqQztBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU8sc0ZBQThCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSxFQUFFLDJFQUFjO0FBQ2hCLEVBQUUsMkVBQWM7QUFDaEI7QUFPRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHNocmF2XFxhaS5hcHQtbWV0YW1vdmUtaGFja2F0aG9uXFxmcm9udGVkXFxub2RlX21vZHVsZXNcXEBhcHRvcy1jb25uZWN0XFx3YWxsZXQtYWRhcHRlci1wbHVnaW5cXGRpc3RcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyByZWdpc3RlcldhbGxldCB9IGZyb20gXCJAYXB0b3MtbGFicy93YWxsZXQtc3RhbmRhcmRcIjtcblxuLy8gc3JjL0FwdG9zQ29ubmVjdEdvb2dsZVdhbGxldC50c1xuaW1wb3J0IHtcbiAgQXB0b3NDb25uZWN0TmFtZXNwYWNlLFxuICBBcHRvc0Rpc2Nvbm5lY3ROYW1lc3BhY2UsXG4gIEFwdG9zR2V0QWNjb3VudE5hbWVzcGFjZSxcbiAgQXB0b3NHZXROZXR3b3JrTmFtZXNwYWNlLFxuICBBcHRvc09uQWNjb3VudENoYW5nZU5hbWVzcGFjZSxcbiAgQXB0b3NPbk5ldHdvcmtDaGFuZ2VOYW1lc3BhY2UsXG4gIEFwdG9zU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uTmFtZXNwYWNlLFxuICBBcHRvc1NpZ25Jbk5hbWVzcGFjZSxcbiAgQXB0b3NTaWduTWVzc2FnZU5hbWVzcGFjZSxcbiAgQXB0b3NTaWduVHJhbnNhY3Rpb25OYW1lc3BhY2Vcbn0gZnJvbSBcIkBhcHRvcy1sYWJzL3dhbGxldC1zdGFuZGFyZFwiO1xuXG4vLyBzcmMvQXB0b3NDb25uZWN0V2FsbGV0LnRzXG5pbXBvcnQge1xuICBBY2NvdW50QWRkcmVzcyBhcyBBY2NvdW50QWRkcmVzczIsXG4gIEFwdG9zLFxuICBBcHRvc0NvbmZpZyxcbiAgRWQyNTUxOVByaXZhdGVLZXksXG4gIE11bHRpQWdlbnRUcmFuc2FjdGlvbixcbiAgTmV0d29yayBhcyBOZXR3b3JrMixcbiAgTmV0d29ya1RvTm9kZUFQSSxcbiAgU2ltcGxlVHJhbnNhY3Rpb25cbn0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xuaW1wb3J0IHtcbiAgQWNjb3VudEluZm8gYXMgQWNjb3VudEluZm8zLFxuICBBUFRPU19DSEFJTlMgYXMgQVBUT1NfQ0hBSU5TMixcbiAgQXB0b3NXYWxsZXRFcnJvcixcbiAgQXB0b3NXYWxsZXRFcnJvckNvZGUsXG4gIFVzZXJSZXNwb25zZVN0YXR1cyBhcyBVc2VyUmVzcG9uc2VTdGF0dXMyXG59IGZyb20gXCJAYXB0b3MtbGFicy93YWxsZXQtc3RhbmRhcmRcIjtcbmltcG9ydCB7IGRlc2VyaWFsaXplUHVibGljS2V5QjY0LCBzZXJpYWxpemVQdWJsaWNLZXlCNjQgfSBmcm9tIFwiQGlkZW50aXR5LWNvbm5lY3QvY3J5cHRvXCI7XG5pbXBvcnQgeyBBQ0RhcHBDbGllbnQgfSBmcm9tIFwiQGlkZW50aXR5LWNvbm5lY3QvZGFwcC1zZGtcIjtcblxuLy8gc3JjL0FwdG9zQ29ubmVjdEFjY291bnQudHNcbmltcG9ydCB7XG4gIEFueVB1YmxpY0tleSxcbiAgRWQyNTUxOVB1YmxpY0tleSxcbiAgTXVsdGlFZDI1NTE5UHVibGljS2V5LFxuICBNdWx0aUtleSxcbiAgU2lnbmluZ1NjaGVtZVxufSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5pbXBvcnQgeyBBUFRPU19DSEFJTlMgfSBmcm9tIFwiQGFwdG9zLWxhYnMvd2FsbGV0LXN0YW5kYXJkXCI7XG52YXIgX2FkZHJlc3MsIF9wdWJsaWNLZXk7XG52YXIgQXB0b3NDb25uZWN0QWNjb3VudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBhZGRyZXNzLCBhbnNOYW1lLCBwdWJsaWNLZXkgfSkge1xuICAgIC8vIHJlZ2lvbiBBcHRvc1dhbGxldEFjY291bnRcbiAgICB0aGlzLmNoYWlucyA9IEFQVE9TX0NIQUlOUztcbiAgICB0aGlzLmZlYXR1cmVzID0gW107XG4gICAgLy8gZW5kcmVnaW9uXG4gICAgLy8gcmVnaW9uIFBldHJhQWNjb3VudFxuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYWRkcmVzcywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3B1YmxpY0tleSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3B1YmxpY0tleSwgcHVibGljS2V5KTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2FkZHJlc3MsIGFkZHJlc3MpO1xuICAgIHRoaXMubGFiZWwgPSBhbnNOYW1lO1xuICB9XG4gIGdldCBhZGRyZXNzKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX2FkZHJlc3MpLnRvU3RyaW5nKCk7XG4gIH1cbiAgZ2V0IHB1YmxpY0tleSgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9wdWJsaWNLZXkpLnRvVWludDhBcnJheSgpO1xuICB9XG4gIGdldCBzaWduaW5nU2NoZW1lKCkge1xuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX3B1YmxpY0tleSkgaW5zdGFuY2VvZiBFZDI1NTE5UHVibGljS2V5KSB7XG4gICAgICByZXR1cm4gU2lnbmluZ1NjaGVtZS5FZDI1NTE5O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9wdWJsaWNLZXkpIGluc3RhbmNlb2YgTXVsdGlFZDI1NTE5UHVibGljS2V5KSB7XG4gICAgICByZXR1cm4gU2lnbmluZ1NjaGVtZS5NdWx0aUVkMjU1MTk7XG4gICAgfVxuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX3B1YmxpY0tleSkgaW5zdGFuY2VvZiBBbnlQdWJsaWNLZXkpIHtcbiAgICAgIHJldHVybiBTaWduaW5nU2NoZW1lLlNpbmdsZUtleTtcbiAgICB9XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfcHVibGljS2V5KSBpbnN0YW5jZW9mIE11bHRpS2V5KSB7XG4gICAgICByZXR1cm4gU2lnbmluZ1NjaGVtZS5NdWx0aUtleTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgcHVibGljIGtleSB0eXBlXCIpO1xuICB9XG4gIC8vIGVuZHJlZ2lvblxufTtcbl9hZGRyZXNzID0gbmV3IFdlYWtNYXAoKTtcbl9wdWJsaWNLZXkgPSBuZXcgV2Vha01hcCgpO1xuXG4vLyBzcmMvaGVscGVycy50c1xuaW1wb3J0IHsgTmV0d29yaywgTmV0d29ya1RvQ2hhaW5JZCB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmltcG9ydCB7IEFjY291bnRJbmZvIGFzIEFjY291bnRJbmZvMiwgVXNlclJlc3BvbnNlU3RhdHVzIH0gZnJvbSBcIkBhcHRvcy1sYWJzL3dhbGxldC1zdGFuZGFyZFwiO1xuZnVuY3Rpb24gY3VzdG9tQWNjb3VudFRvU3RhbmRhcmRBY2NvdW50KHsgYWRkcmVzcywgbmFtZSwgcHVibGljS2V5IH0pIHtcbiAgcmV0dXJuIG5ldyBBY2NvdW50SW5mbzIoe1xuICAgIGFkZHJlc3MsXG4gICAgYW5zTmFtZTogbmFtZSxcbiAgICBwdWJsaWNLZXlcbiAgfSk7XG59XG5mdW5jdGlvbiB1bndyYXBVc2VyUmVzcG9uc2UocmVzcG9uc2UsIGNhbGxiYWNrKSB7XG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZGlzbWlzc2VkXCIpIHtcbiAgICByZXR1cm4geyBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1cy5SRUpFQ1RFRCB9O1xuICB9XG4gIHJldHVybiB7IGFyZ3M6IGNhbGxiYWNrKHJlc3BvbnNlLmFyZ3MpLCBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1cy5BUFBST1ZFRCB9O1xufVxuZnVuY3Rpb24gbmV0d29ya1RvQ2hhaW5JZChuZXR3b3JrKSB7XG4gIHN3aXRjaCAobmV0d29yaykge1xuICAgIGNhc2UgTmV0d29yay5NQUlOTkVUOlxuICAgICAgcmV0dXJuIE5ldHdvcmtUb0NoYWluSWQubWFpbm5ldDtcbiAgICBjYXNlIE5ldHdvcmsuVEVTVE5FVDpcbiAgICAgIHJldHVybiBOZXR3b3JrVG9DaGFpbklkLnRlc3RuZXQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBOZXR3b3JrVG9DaGFpbklkLmRldm5ldDtcbiAgfVxufVxuXG4vLyBzcmMvQXB0b3NDb25uZWN0V2FsbGV0LnRzXG52YXIgX0FwdG9zQ29ubmVjdFdhbGxldCA9IGNsYXNzIF9BcHRvc0Nvbm5lY3RXYWxsZXQge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgY2xhaW1TZWNyZXRLZXksXG4gICAgbmV0d29yayA9IE5ldHdvcmsyLk1BSU5ORVQsXG4gICAgcHJlZmVycmVkV2FsbGV0TmFtZSxcbiAgICAuLi5jbGllbnRDb25maWdcbiAgfSkge1xuICAgIC8vIGVuZHJlZ2lvblxuICAgIC8vIHJlZ2lvbiBBcHRvc1dhbGxldFxuICAgIHRoaXMudmVyc2lvbiA9IFwiMS4wLjBcIjtcbiAgICB0aGlzLmNoYWlucyA9IEFQVE9TX0NIQUlOUzI7XG4gICAgdGhpcy5jbGllbnQgPSBuZXcgQUNEYXBwQ2xpZW50KGNsaWVudENvbmZpZyk7XG4gICAgaWYgKCFOZXR3b3JrVG9Ob2RlQVBJW25ldHdvcmtdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGFwdG9zQ29uZmlnID0gbmV3IEFwdG9zQ29uZmlnKHsgbmV0d29yayB9KTtcbiAgICB0aGlzLmFwdG9zQ2xpZW50ID0gbmV3IEFwdG9zKGFwdG9zQ29uZmlnKTtcbiAgICB0aGlzLnByZWZlcnJlZFdhbGxldE5hbWUgPSBwcmVmZXJyZWRXYWxsZXROYW1lO1xuICAgIHRoaXMuY2xhaW1PcHRpb25zID0gY2xhaW1TZWNyZXRLZXkgPyB7IG5ldHdvcmssIHNlY3JldEtleTogbmV3IEVkMjU1MTlQcml2YXRlS2V5KGNsYWltU2VjcmV0S2V5KSB9IDogdm9pZCAwO1xuICB9XG4gIHN0YXRpYyBnZXQgY29ubmVjdGVkQWNjb3VudCgpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oX0FwdG9zQ29ubmVjdFdhbGxldC5jb25uZWN0ZWRBY2NvdW50U3RvcmFnZUtleSk7XG4gICAgaWYgKCFzZXJpYWxpemVkKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBhZGRyZXNzLCBwdWJsaWNLZXkgfSA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZCk7XG4gICAgICByZXR1cm4gbmV3IEFjY291bnRJbmZvMyh7XG4gICAgICAgIGFkZHJlc3M6IEFjY291bnRBZGRyZXNzMi5mcm9tKGFkZHJlc3MpLFxuICAgICAgICBwdWJsaWNLZXk6IGRlc2VyaWFsaXplUHVibGljS2V5QjY0KHB1YmxpY0tleSlcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKFwiSW5jb25zaXN0ZW50IHN0YXRlLCByZXNldHRpbmcgaXRcIik7XG4gICAgICB0aGlzLmNvbm5lY3RlZEFjY291bnQgPSB2b2lkIDA7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgc2V0IGNvbm5lY3RlZEFjY291bnQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHtcbiAgICAgICAgYWRkcmVzczogdmFsdWUuYWRkcmVzcy50b1N0cmluZygpLFxuICAgICAgICBwdWJsaWNLZXk6IHNlcmlhbGl6ZVB1YmxpY0tleUI2NCh2YWx1ZS5wdWJsaWNLZXkpXG4gICAgICB9O1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oX0FwdG9zQ29ubmVjdFdhbGxldC5jb25uZWN0ZWRBY2NvdW50U3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShfQXB0b3NDb25uZWN0V2FsbGV0LmNvbm5lY3RlZEFjY291bnRTdG9yYWdlS2V5KTtcbiAgICB9XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgZ2V0IGFjY291bnRzKCkge1xuICAgIGNvbnN0IHsgY29ubmVjdGVkQWNjb3VudCB9ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcbiAgICByZXR1cm4gY29ubmVjdGVkQWNjb3VudCA/IFtuZXcgQXB0b3NDb25uZWN0QWNjb3VudChjb25uZWN0ZWRBY2NvdW50KV0gOiBbXTtcbiAgfVxuICBhc3luYyBjb25uZWN0KCkge1xuICAgIGNvbnN0IHsgY29ubmVjdGVkQWNjb3VudCB9ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcbiAgICBpZiAoY29ubmVjdGVkQWNjb3VudCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4geyBhcmdzOiBjb25uZWN0ZWRBY2NvdW50LCBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1czIuQVBQUk9WRUQgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5jb25uZWN0KHtcbiAgICAgIGNsYWltT3B0aW9uczogdGhpcy5jbGFpbU9wdGlvbnMsXG4gICAgICBwcmVmZXJyZWRXYWxsZXROYW1lOiB0aGlzLnByZWZlcnJlZFdhbGxldE5hbWVcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSBcImRpc21pc3NlZFwiKSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1czIuUkVKRUNURUQgfTtcbiAgICB9XG4gICAgY29uc3QgbmV3Q29ubmVjdGVkQWNjb3VudCA9IGN1c3RvbUFjY291bnRUb1N0YW5kYXJkQWNjb3VudChyZXNwb25zZS5hcmdzLmFjY291bnQpO1xuICAgIF9BcHRvc0Nvbm5lY3RXYWxsZXQuY29ubmVjdGVkQWNjb3VudCA9IG5ld0Nvbm5lY3RlZEFjY291bnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFyZ3M6IG5ld0Nvbm5lY3RlZEFjY291bnQsXG4gICAgICBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1czIuQVBQUk9WRURcbiAgICB9O1xuICB9XG4gIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgY29uc3QgeyBjb25uZWN0ZWRBY2NvdW50IH0gPSBfQXB0b3NDb25uZWN0V2FsbGV0O1xuICAgIGlmIChjb25uZWN0ZWRBY2NvdW50KSB7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC5kaXNjb25uZWN0KGNvbm5lY3RlZEFjY291bnQuYWRkcmVzcyk7XG4gICAgICBfQXB0b3NDb25uZWN0V2FsbGV0LmNvbm5lY3RlZEFjY291bnQgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNpZ25JbihpbnB1dCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuc2lnbkluKHsgbmV0d29yazogdGhpcy5hcHRvc0NsaWVudC5jb25maWcubmV0d29yaywgLi4uaW5wdXQgfSk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJkaXNtaXNzZWRcIikge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBVc2VyUmVzcG9uc2VTdGF0dXMyLlJFSkVDVEVEIH07XG4gICAgfVxuICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLmFyZ3M7XG4gICAgX0FwdG9zQ29ubmVjdFdhbGxldC5jb25uZWN0ZWRBY2NvdW50ID0gb3V0cHV0LmFjY291bnQ7XG4gICAgcmV0dXJuIHsgYXJnczogb3V0cHV0LCBzdGF0dXM6IFVzZXJSZXNwb25zZVN0YXR1czIuQVBQUk9WRUQgfTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBhc3luYyBnZXRBY2NvdW50KCkge1xuICAgIGNvbnN0IHsgY29ubmVjdGVkQWNjb3VudCB9ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcbiAgICBpZiAoIWNvbm5lY3RlZEFjY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBBcHRvc1dhbGxldEVycm9yKEFwdG9zV2FsbGV0RXJyb3JDb2RlLlVuYXV0aG9yaXplZCk7XG4gICAgfVxuICAgIHJldHVybiBjdXN0b21BY2NvdW50VG9TdGFuZGFyZEFjY291bnQoY29ubmVjdGVkQWNjb3VudCk7XG4gIH1cbiAgYXN5bmMgZ2V0TmV0d29yaygpIHtcbiAgICBjb25zdCB7IG5ldHdvcmsgfSA9IHRoaXMuYXB0b3NDbGllbnQuY29uZmlnO1xuICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB0aGlzLmFwdG9zQ2xpZW50LmdldENoYWluSWQoKTtcbiAgICBjb25zdCB1cmwgPSBOZXR3b3JrVG9Ob2RlQVBJW25ldHdvcmtdO1xuICAgIHJldHVybiB7XG4gICAgICBjaGFpbklkLFxuICAgICAgbmFtZTogbmV0d29yayxcbiAgICAgIHVybFxuICAgIH07XG4gIH1cbiAgYXN5bmMgc2lnbk1lc3NhZ2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGNvbm5lY3RlZEFjY291bnQgfSA9IF9BcHRvc0Nvbm5lY3RXYWxsZXQ7XG4gICAgaWYgKCFjb25uZWN0ZWRBY2NvdW50KSB7XG4gICAgICB0aHJvdyBuZXcgQXB0b3NXYWxsZXRFcnJvcihBcHRvc1dhbGxldEVycm9yQ29kZS5VbmF1dGhvcml6ZWQpO1xuICAgIH1cbiAgICBjb25zdCBjaGFpbklkID0gbmV0d29ya1RvQ2hhaW5JZCh0aGlzLmFwdG9zQ2xpZW50LmNvbmZpZy5uZXR3b3JrKTtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIG5vbmNlIH0gPSBpbnB1dDtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgY29uc3QgbWVzc2FnZUJ5dGVzID0gZW5jb2Rlci5lbmNvZGUobWVzc2FnZSk7XG4gICAgY29uc3Qgbm9uY2VCeXRlcyA9IGVuY29kZXIuZW5jb2RlKG5vbmNlKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LnNpZ25NZXNzYWdlKHtcbiAgICAgIGNoYWluSWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlQnl0ZXMsXG4gICAgICBub25jZTogbm9uY2VCeXRlcyxcbiAgICAgIHNpZ25lckFkZHJlc3M6IGNvbm5lY3RlZEFjY291bnQuYWRkcmVzc1xuICAgIH0pO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZGlzbWlzc2VkXCIpIHtcbiAgICAgIHJldHVybiB7IHN0YXR1czogVXNlclJlc3BvbnNlU3RhdHVzMi5SRUpFQ1RFRCB9O1xuICAgIH1cbiAgICBjb25zdCB7IGZ1bGxNZXNzYWdlLCBzaWduYXR1cmUgfSA9IHJlc3BvbnNlLmFyZ3M7XG4gICAgY29uc3QgZXh0cmFSZXNwb25zZUFyZ3MgPSB7XG4gICAgICBhZGRyZXNzOiBjb25uZWN0ZWRBY2NvdW50LmFkZHJlc3MudG9TdHJpbmcoKSxcbiAgICAgIGFwcGxpY2F0aW9uOiB0aGlzLmNsaWVudC5kYXBwSW5mby5kb21haW4sXG4gICAgICBjaGFpbklkLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIG5vbmNlLFxuICAgICAgcHJlZml4OiBcIkFQVE9TXCJcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZ1bGxNZXNzYWdlLFxuICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgIC4uLmV4dHJhUmVzcG9uc2VBcmdzXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiBVc2VyUmVzcG9uc2VTdGF0dXMyLkFQUFJPVkVEXG4gICAgfTtcbiAgfVxuICBhc3luYyBzaWduVHJhbnNhY3Rpb24odHhuT3JBcmdzLCBfYXNGZWVQYXllcikge1xuICAgIGNvbnN0IHsgY29ubmVjdGVkQWNjb3VudCB9ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcbiAgICBpZiAoIWNvbm5lY3RlZEFjY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBBcHRvc1dhbGxldEVycm9yKEFwdG9zV2FsbGV0RXJyb3JDb2RlLlVuYXV0aG9yaXplZCk7XG4gICAgfVxuICAgIGlmIChcImJjc1RvQnl0ZXNcIiBpbiB0eG5PckFyZ3MpIHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdHhuT3JBcmdzO1xuICAgICAgY29uc3QgZmVlUGF5ZXIgPSB0cmFuc2FjdGlvbi5mZWVQYXllckFkZHJlc3MgPyB7IGFkZHJlc3M6IHRyYW5zYWN0aW9uLmZlZVBheWVyQWRkcmVzcyB9IDogdm9pZCAwO1xuICAgICAgY29uc3Qgc2Vjb25kYXJ5U2lnbmVycyA9IHRyYW5zYWN0aW9uLnNlY29uZGFyeVNpZ25lckFkZHJlc3Nlcz8ubWFwKChhZGRyZXNzKSA9PiAoeyBhZGRyZXNzIH0pKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHRoaXMuY2xpZW50LnNpZ25UcmFuc2FjdGlvbih7XG4gICAgICAgIGZlZVBheWVyLFxuICAgICAgICBzZWNvbmRhcnlTaWduZXJzLFxuICAgICAgICBzaWduZXJBZGRyZXNzOiBjb25uZWN0ZWRBY2NvdW50LmFkZHJlc3MsXG4gICAgICAgIHRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbi5yYXdUcmFuc2FjdGlvblxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdW53cmFwVXNlclJlc3BvbnNlKHJlc3BvbnNlMiwgKGFyZ3MpID0+IGFyZ3MuYXV0aGVudGljYXRvcik7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RBcmdzID0gdHhuT3JBcmdzO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuc2lnblRyYW5zYWN0aW9uKHtcbiAgICAgIC4uLnJlcXVlc3RBcmdzLFxuICAgICAgc2lnbmVyQWRkcmVzczogY29ubmVjdGVkQWNjb3VudC5hZGRyZXNzXG4gICAgfSk7XG4gICAgcmV0dXJuIHVud3JhcFVzZXJSZXNwb25zZShyZXNwb25zZSwgKHJlc3BvbnNlQXJncykgPT4ge1xuICAgICAgY29uc3QgeyBhdXRoZW50aWNhdG9yLCByYXdUcmFuc2FjdGlvbiB9ID0gcmVzcG9uc2VBcmdzO1xuICAgICAgaWYgKCFyYXdUcmFuc2FjdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCByYXcgdHJhbnNhY3Rpb24gaW4gcmVzcG9uc2UgYXJnc1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlY29uZGFyeVNpZ25lcnMgPSByZXF1ZXN0QXJncy5zZWNvbmRhcnlTaWduZXJzID8/IFtdO1xuICAgICAgbGV0IHRyYW5zYWN0aW9uO1xuICAgICAgaWYgKHNlY29uZGFyeVNpZ25lcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0cmFuc2FjdGlvbiA9IG5ldyBNdWx0aUFnZW50VHJhbnNhY3Rpb24oXG4gICAgICAgICAgcmF3VHJhbnNhY3Rpb24sXG4gICAgICAgICAgc2Vjb25kYXJ5U2lnbmVycy5tYXAoKHMpID0+IHMuYWRkcmVzcyksXG4gICAgICAgICAgcmVxdWVzdEFyZ3MuZmVlUGF5ZXI/LmFkZHJlc3NcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zYWN0aW9uID0gbmV3IFNpbXBsZVRyYW5zYWN0aW9uKHJhd1RyYW5zYWN0aW9uLCByZXF1ZXN0QXJncy5mZWVQYXllcj8uYWRkcmVzcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdXRoZW50aWNhdG9yLFxuICAgICAgICByYXdUcmFuc2FjdGlvbjogdHJhbnNhY3Rpb25cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uKGFyZ3MpIHtcbiAgICBjb25zdCB7IGdhc1VuaXRQcmljZSwgbWF4R2FzQW1vdW50LCBwYXlsb2FkIH0gPSBhcmdzO1xuICAgIGNvbnN0IHsgY29ubmVjdGVkQWNjb3VudCB9ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcbiAgICBpZiAoIWNvbm5lY3RlZEFjY291bnQpIHtcbiAgICAgIHRocm93IG5ldyBBcHRvc1dhbGxldEVycm9yKEFwdG9zV2FsbGV0RXJyb3JDb2RlLlVuYXV0aG9yaXplZCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uKHtcbiAgICAgIGdhc1VuaXRQcmljZSxcbiAgICAgIG1heEdhc0Ftb3VudCxcbiAgICAgIG5ldHdvcms6IHRoaXMuYXB0b3NDbGllbnQuY29uZmlnLm5ldHdvcmssXG4gICAgICBwYXlsb2FkLFxuICAgICAgc2lnbmVyQWRkcmVzczogY29ubmVjdGVkQWNjb3VudC5hZGRyZXNzXG4gICAgfSk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJkaXNtaXNzZWRcIikge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBVc2VyUmVzcG9uc2VTdGF0dXMyLlJFSkVDVEVEIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhcmdzOiB7IGhhc2g6IHJlc3BvbnNlLmFyZ3MudHhuSGFzaCB9LFxuICAgICAgc3RhdHVzOiBVc2VyUmVzcG9uc2VTdGF0dXMyLkFQUFJPVkVEXG4gICAgfTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBhc3luYyBvbkFjY291bnRDaGFuZ2UoX2NhbGxiYWNrKSB7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgYXN5bmMgb25OZXR3b3JrQ2hhbmdlKF9jYWxsYmFjaykge1xuICB9XG4gIC8vIGVuZHJlZ2lvblxufTtcbi8vIHJlZ2lvbiBjb25uZWN0ZWRBY2NvdW50XG5fQXB0b3NDb25uZWN0V2FsbGV0LmNvbm5lY3RlZEFjY291bnRTdG9yYWdlS2V5ID0gXCJAYXB0b3MtY29ubmVjdC9jb25uZWN0ZWRBY2NvdW50XCI7XG52YXIgQXB0b3NDb25uZWN0V2FsbGV0ID0gX0FwdG9zQ29ubmVjdFdhbGxldDtcblxuLy8gc3JjL2NvbmZpZy50c1xudmFyIHdhbGxldE1ldGFkYXRhID0ge1xuICBhcHBsZToge1xuICAgIGljb246IChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1qUWlJR2hsYVdkb2REMGlNalFpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJZ1ptbHNiRDBpYm05dVpTSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklqNEtJQ0FnSUR4emRIbHNaVDRLSUNBZ0lDQWdJQ0J3WVhSb0lIc0tJQ0FnSUNBZ0lDQWdJQ0FnWm1sc2JEb2dZbXhoWTJzN0NpQWdJQ0FnSUNBZ2ZRb0tJQ0FnSUNBZ0lDQkFiV1ZrYVdFZ0tIQnlaV1psY25NdFkyOXNiM0l0YzJOb1pXMWxPaUJrWVhKcktTQjdDaUFnSUNBZ0lDQWdJQ0FnSUhCaGRHZ2dld29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdabWxzYkRvZ2QyaHBkR1U3Q2lBZ0lDQWdJQ0FnSUNBZ0lIMEtJQ0FnSUNBZ0lDQjlDaUFnSUNBOEwzTjBlV3hsUGdvZ0lDQWdQSEJoZEdnS0lDQWdJQ0FnSUNCa1BTSk5NakF1TXprek1pQTRMakU0TWpReVF6SXdMakkxTnpnZ09DNHlPVEEwTXlBeE55NDROamdnT1M0Mk56VXpOeUF4Tnk0NE5qZ2dNVEl1TnpVME9VTXhOeTQ0TmpnZ01UWXVNekUyT0NBeU1DNDVNRGtnTVRjdU5UYzNJREl4SURFM0xqWXdPREpETWpBdU9UZzJJREUzTGpZNE5TQXlNQzQxTVRZNUlERTVMak16TXprZ01Ua3VNemsyTmlBeU1TNHdNVFF4UXpFNExqTTVOemNnTWpJdU5Ea3lOaUF4Tnk0ek5UUTFJREl6TGprMk9EZ2dNVFV1TnpZM05TQXlNeTQ1TmpnNFF6RTBMakU0TURRZ01qTXVPVFk0T0NBeE15NDNOeklnTWpNdU1ESXdOeUF4TVM0NU16azVJREl6TGpBeU1EZERNVEF1TVRVME5TQXlNeTR3TWpBM0lEa3VOVEU1TnpJZ01qUWdPQzR3Tmpnd05TQXlORU0yTGpZeE5qTTVJREkwSURVdU5qQXpORGtnTWpJdU5qTXhPU0EwTGpRek9EZzVJREl3TGprMU1UZERNeTR3T0RrNU1pQXhPQzQ1TnpnM0lESWdNVFV1T1RFek5pQXlJREV6TGpBd05EVkRNaUE0TGpNek9EUXpJRFF1T1RVd01ERWdOUzQ0TmpNM09TQTNMamcxTXpNMElEVXVPRFl6TnpsRE9TNHpPVFl3TWlBMUxqZzJNemM1SURFd0xqWTRNaUEyTGprd05UUTVJREV4TGpZMU1EVWdOaTQ1TURVME9VTXhNaTQxTnpJMElEWXVPVEExTkRrZ01UUXVNREV3TVNBMUxqZ3dNVE00SURFMUxqYzJOVEVnTlM0NE1ERXpPRU14Tmk0ME16QXpJRFV1T0RBeE16Z2dNVGd1T0RJd01pQTFMamcyTXpjNUlESXdMak01TXpJZ09DNHhPREkwTWxwTk1UUXVPVE14T1NBekxqZ3lOVGs0UXpFMUxqWTFOemdnTWk0NU5EQXlPU0F4Tmk0eE56RXlJREV1TnpFeE16Y2dNVFl1TVRjeE1pQXdMalE0TWpRME9FTXhOaTR4TnpFeUlEQXVNekV5TURNeElERTJMakUxTnpJZ01DNHhNemt5TVRRZ01UWXVNVEkyT1NBd1F6RTBMamswTmlBd0xqQTBOVFl3TkRZZ01UTXVOVFF4SURBdU9EQTRPRGd4SURFeUxqWTVNemdnTVM0NE1Ua3pPRU14TWk0d01qZzJJREl1TlRrM01EWWdNVEV1TkRBM09DQXpMamd5TlRrNElERXhMalF3TnpnZ05TNHdOekUzTVVNeE1TNDBNRGM0SURVdU1qVTRPVE1nTVRFdU5ETTRNaUExTGpRME5qRTBJREV4TGpRMU1qSWdOUzQxTURZeE5VTXhNUzQxTWpZNElEVXVOVEl3TlRVZ01URXVOalE0TWlBMUxqVXpOek0xSURFeExqYzJPVFlnTlM0MU16Y3pOVU14TWk0NE1qa3hJRFV1TlRNM016VWdNVFF1TVRZeE9DQTBMamd3TnpZNElERTBMamt6TVRrZ015NDRNalU1T0ZvaUlDOCtDand2YzNablBnPT1cIlxuICAgICksXG4gICAgbmFtZTogXCJDb250aW51ZSB3aXRoIEFwcGxlXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vYXB0b3Njb25uZWN0LmFwcFwiXG4gIH0sXG4gIGdvb2dsZToge1xuICAgIGljb246IChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1qUWlJR2hsYVdkb2REMGlNalFpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJZ1ptbHNiRDBpYm05dVpTSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQmpiR0Z6Y3owaWFGOHlNQ0IzWHpJd0lqNDhjR0YwYUNCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUlHTnNhWEF0Y25Wc1pUMGlaWFpsYm05a1pDSWdaRDBpVFRJekxqVTBJREV5TGpjMk1UTkRNak11TlRRZ01URXVPVFExT1NBeU15NDBOalk0SURFeExqRTJNVGdnTWpNdU16TXdPU0F4TUM0ME1Ea3hTREV5TGpWV01UUXVPRFUzTlVneE9DNDJPRGt4UXpFNExqUXlNalVnTVRZdU1qazFJREUzTGpZeE1qTWdNVGN1TlRFeU9TQXhOaTR6T1RReklERTRMak15T0RSV01qRXVNakV6T0VneU1DNHhNVEE1UXpJeUxqSTROVFVnTVRrdU1qRXhPQ0F5TXk0MU5DQXhOaTR5TmpNMklESXpMalUwSURFeUxqYzJNVE5hSWlCbWFXeHNQU0lqTkRJNE5VWTBJajQ4TDNCaGRHZytQSEJoZEdnZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lpQmpiR2x3TFhKMWJHVTlJbVYyWlc1dlpHUWlJR1E5SWsweE1pNDBPVGsxSURJekxqazVPVGhETVRVdU5qQTBOU0F5TXk0NU9UazRJREU0TGpJd056Y2dNakl1T1RjZ01qQXVNVEV3TkNBeU1TNHlNVE0zVERFMkxqTTVNemdnTVRndU16STRNa014TlM0ek5qUWdNVGt1TURFNE1pQXhOQzR3TkRZM0lERTVMalF5TlRrZ01USXVORGs1TlNBeE9TNDBNalU1UXprdU5UQTBNalVnTVRrdU5ESTFPU0EyTGprMk9UQXlJREUzTGpRd015QTJMakEyTkRjZ01UUXVOamcwT0VneUxqSXlNalkyVmpFM0xqWTJORFJETkM0eE1UUTVNeUF5TVM0ME1qSTRJRGd1TURBME1ESWdNak11T1RrNU9DQXhNaTQwT1RrMUlESXpMams1T1RoYUlpQm1hV3hzUFNJak16UkJPRFV6SWo0OEwzQmhkR2crUEhCaGRHZ2dabWxzYkMxeWRXeGxQU0psZG1WdWIyUmtJaUJqYkdsd0xYSjFiR1U5SW1WMlpXNXZaR1FpSUdROUlrMDJMakEyTlRJeklERTBMalk0TlRGRE5TNDRNelV5TXlBeE15NDVPVFV4SURVdU56QTBOVFVnTVRNdU1qVTRNU0ExTGpjd05EVTFJREV5TGpVd01ERkROUzQzTURRMU5TQXhNUzQzTkRJeUlEVXVPRE0xTWpNZ01URXVNREExTVNBMkxqQTJOVEl6SURFd0xqTXhOVEZXTnk0ek16VTFOMGd5TGpJeU16RTRRekV1TkRRME16SWdPQzQ0T0Rnd055QXhJREV3TGpZME5EUWdNU0F4TWk0MU1EQXhRekVnTVRRdU16VTFPQ0F4TGpRME5ETXlJREUyTGpFeE1qSWdNaTR5TWpNeE9DQXhOeTQyTmpRM1REWXVNRFkxTWpNZ01UUXVOamcxTVZvaUlHWnBiR3c5SWlOR1FrSkRNRFVpUGp3dmNHRjBhRDQ4Y0dGMGFDQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlJR05zYVhBdGNuVnNaVDBpWlhabGJtOWtaQ0lnWkQwaVRURXlMalE1T1RVZ05TNDFOek00TmtNeE5DNHhPRGM1SURVdU5UY3pPRFlnTVRVdU56QXpPQ0EyTGpFMU5EQTVJREUyTGpnNU5UWWdOeTR5T1RNMk5Fd3lNQzR4T1RRZ015NDVPVFV5TTBNeE9DNHlNREkwSURJdU1UTTVOVFVnTVRVdU5UazVNaUF4SURFeUxqUTVPVFVnTVVNNExqQXdOREF5SURFZ05DNHhNVFE1TXlBekxqVTNOekExSURJdU1qSXlOallnTnk0ek16VTBOVXcyTGpBMk5EY2dNVEF1TXpFMVF6WXVPVFk1TURJZ055NDFPVFk0TWlBNUxqVXdOREkxSURVdU5UY3pPRFlnTVRJdU5EazVOU0ExTGpVM016ZzJXaUlnWm1sc2JEMGlJMFZCTkRNek5TSStQQzl3WVhSb1Bqd3ZjM1puUGc9PVwiXG4gICAgKSxcbiAgICBuYW1lOiBcIkNvbnRpbnVlIHdpdGggR29vZ2xlXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vYXB0b3Njb25uZWN0LmFwcFwiXG4gIH1cbn07XG5cbi8vIHNyYy9BcHRvc0Nvbm5lY3RHb29nbGVXYWxsZXQudHNcbnZhciBBcHRvc0Nvbm5lY3RHb29nbGVXYWxsZXQgPSBjbGFzcyBleHRlbmRzIEFwdG9zQ29ubmVjdFdhbGxldCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKHsgLi4uY29uZmlnLCBwcm92aWRlcjogXCJnb29nbGVcIiB9KTtcbiAgICB0aGlzLm5hbWUgPSB3YWxsZXRNZXRhZGF0YS5nb29nbGUubmFtZTtcbiAgICB0aGlzLmljb24gPSB3YWxsZXRNZXRhZGF0YS5nb29nbGUuaWNvbjtcbiAgICB0aGlzLnVybCA9IHdhbGxldE1ldGFkYXRhLmdvb2dsZS51cmw7XG4gIH1cbiAgLy8gcmVnaW9uIEFwdG9zV2FsbGV0XG4gIGdldCBmZWF0dXJlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW0FwdG9zQ29ubmVjdE5hbWVzcGFjZV06IHtcbiAgICAgICAgY29ubmVjdDogdGhpcy5jb25uZWN0LmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4wLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc0Rpc2Nvbm5lY3ROYW1lc3BhY2VdOiB7XG4gICAgICAgIGRpc2Nvbm5lY3Q6IHRoaXMuZGlzY29ubmVjdC5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NHZXRBY2NvdW50TmFtZXNwYWNlXToge1xuICAgICAgICBhY2NvdW50OiB0aGlzLmdldEFjY291bnQuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zR2V0TmV0d29ya05hbWVzcGFjZV06IHtcbiAgICAgICAgbmV0d29yazogdGhpcy5nZXROZXR3b3JrLmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4wLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc09uQWNjb3VudENoYW5nZU5hbWVzcGFjZV06IHtcbiAgICAgICAgb25BY2NvdW50Q2hhbmdlOiB0aGlzLm9uQWNjb3VudENoYW5nZS5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NPbk5ldHdvcmtDaGFuZ2VOYW1lc3BhY2VdOiB7XG4gICAgICAgIG9uTmV0d29ya0NoYW5nZTogdGhpcy5vbk5ldHdvcmtDaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uTmFtZXNwYWNlXToge1xuICAgICAgICBzaWduQW5kU3VibWl0VHJhbnNhY3Rpb246IHRoaXMuc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uLmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4xLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc1NpZ25Jbk5hbWVzcGFjZV06IHtcbiAgICAgICAgc2lnbkluOiB0aGlzLnNpZ25Jbi5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjAuMS4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NTaWduTWVzc2FnZU5hbWVzcGFjZV06IHtcbiAgICAgICAgc2lnbk1lc3NhZ2U6IHRoaXMuc2lnbk1lc3NhZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zU2lnblRyYW5zYWN0aW9uTmFtZXNwYWNlXToge1xuICAgICAgICBzaWduVHJhbnNhY3Rpb246IHRoaXMuc2lnblRyYW5zYWN0aW9uLmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4xXCJcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8vIGVuZHJlZ2lvblxufTtcblxuLy8gc3JjL0FwdG9zQ29ubmVjdEFwcGxlV2FsbGV0LnRzXG5pbXBvcnQge1xuICBBcHRvc0Nvbm5lY3ROYW1lc3BhY2UgYXMgQXB0b3NDb25uZWN0TmFtZXNwYWNlMixcbiAgQXB0b3NEaXNjb25uZWN0TmFtZXNwYWNlIGFzIEFwdG9zRGlzY29ubmVjdE5hbWVzcGFjZTIsXG4gIEFwdG9zR2V0QWNjb3VudE5hbWVzcGFjZSBhcyBBcHRvc0dldEFjY291bnROYW1lc3BhY2UyLFxuICBBcHRvc0dldE5ldHdvcmtOYW1lc3BhY2UgYXMgQXB0b3NHZXROZXR3b3JrTmFtZXNwYWNlMixcbiAgQXB0b3NPbkFjY291bnRDaGFuZ2VOYW1lc3BhY2UgYXMgQXB0b3NPbkFjY291bnRDaGFuZ2VOYW1lc3BhY2UyLFxuICBBcHRvc09uTmV0d29ya0NoYW5nZU5hbWVzcGFjZSBhcyBBcHRvc09uTmV0d29ya0NoYW5nZU5hbWVzcGFjZTIsXG4gIEFwdG9zU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uTmFtZXNwYWNlIGFzIEFwdG9zU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uTmFtZXNwYWNlMixcbiAgQXB0b3NTaWduSW5OYW1lc3BhY2UgYXMgQXB0b3NTaWduSW5OYW1lc3BhY2UyLFxuICBBcHRvc1NpZ25NZXNzYWdlTmFtZXNwYWNlIGFzIEFwdG9zU2lnbk1lc3NhZ2VOYW1lc3BhY2UyLFxuICBBcHRvc1NpZ25UcmFuc2FjdGlvbk5hbWVzcGFjZSBhcyBBcHRvc1NpZ25UcmFuc2FjdGlvbk5hbWVzcGFjZTJcbn0gZnJvbSBcIkBhcHRvcy1sYWJzL3dhbGxldC1zdGFuZGFyZFwiO1xudmFyIEFwdG9zQ29ubmVjdEFwcGxlV2FsbGV0ID0gY2xhc3MgZXh0ZW5kcyBBcHRvc0Nvbm5lY3RXYWxsZXQge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcih7IC4uLmNvbmZpZywgcHJvdmlkZXI6IFwiYXBwbGVcIiB9KTtcbiAgICB0aGlzLm5hbWUgPSB3YWxsZXRNZXRhZGF0YS5hcHBsZS5uYW1lO1xuICAgIHRoaXMuaWNvbiA9IHdhbGxldE1ldGFkYXRhLmFwcGxlLmljb247XG4gICAgdGhpcy51cmwgPSB3YWxsZXRNZXRhZGF0YS5hcHBsZS51cmw7XG4gIH1cbiAgLy8gcmVnaW9uIEFwdG9zV2FsbGV0XG4gIGdldCBmZWF0dXJlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW0FwdG9zQ29ubmVjdE5hbWVzcGFjZTJdOiB7XG4gICAgICAgIGNvbm5lY3Q6IHRoaXMuY29ubmVjdC5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NEaXNjb25uZWN0TmFtZXNwYWNlMl06IHtcbiAgICAgICAgZGlzY29ubmVjdDogdGhpcy5kaXNjb25uZWN0LmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4wLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc0dldEFjY291bnROYW1lc3BhY2UyXToge1xuICAgICAgICBhY2NvdW50OiB0aGlzLmdldEFjY291bnQuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zR2V0TmV0d29ya05hbWVzcGFjZTJdOiB7XG4gICAgICAgIG5ldHdvcms6IHRoaXMuZ2V0TmV0d29yay5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NPbkFjY291bnRDaGFuZ2VOYW1lc3BhY2UyXToge1xuICAgICAgICBvbkFjY291bnRDaGFuZ2U6IHRoaXMub25BY2NvdW50Q2hhbmdlLmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMS4wLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc09uTmV0d29ya0NoYW5nZU5hbWVzcGFjZTJdOiB7XG4gICAgICAgIG9uTmV0d29ya0NoYW5nZTogdGhpcy5vbk5ldHdvcmtDaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uTmFtZXNwYWNlMl06IHtcbiAgICAgICAgc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uOiB0aGlzLnNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMS4wXCJcbiAgICAgIH0sXG4gICAgICBbQXB0b3NTaWduSW5OYW1lc3BhY2UyXToge1xuICAgICAgICBzaWduSW46IHRoaXMuc2lnbkluLmJpbmQodGhpcyksXG4gICAgICAgIHZlcnNpb246IFwiMC4xLjBcIlxuICAgICAgfSxcbiAgICAgIFtBcHRvc1NpZ25NZXNzYWdlTmFtZXNwYWNlMl06IHtcbiAgICAgICAgc2lnbk1lc3NhZ2U6IHRoaXMuc2lnbk1lc3NhZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiXG4gICAgICB9LFxuICAgICAgW0FwdG9zU2lnblRyYW5zYWN0aW9uTmFtZXNwYWNlMl06IHtcbiAgICAgICAgc2lnblRyYW5zYWN0aW9uOiB0aGlzLnNpZ25UcmFuc2FjdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICB2ZXJzaW9uOiBcIjEuMVwiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvLyBlbmRyZWdpb25cbn07XG5cbi8vIHNyYy9pbmRleC50c1xuZnVuY3Rpb24gcmVnaXN0ZXJBcHRvc0Nvbm5lY3QoY29uZmlnID0ge30pIHtcbiAgY29uc3QgZ29vZ2xlV2FsbGV0UGx1Z2luID0gbmV3IEFwdG9zQ29ubmVjdEdvb2dsZVdhbGxldChjb25maWcpO1xuICBjb25zdCBhcHBsZVdhbGxldFBsdWdpbiA9IG5ldyBBcHRvc0Nvbm5lY3RBcHBsZVdhbGxldChjb25maWcpO1xuICByZWdpc3RlcldhbGxldChnb29nbGVXYWxsZXRQbHVnaW4pO1xuICByZWdpc3RlcldhbGxldChhcHBsZVdhbGxldFBsdWdpbik7XG59XG5leHBvcnQge1xuICBBcHRvc0Nvbm5lY3RBY2NvdW50LFxuICBBcHRvc0Nvbm5lY3RBcHBsZVdhbGxldCxcbiAgQXB0b3NDb25uZWN0R29vZ2xlV2FsbGV0LFxuICBBcHRvc0Nvbm5lY3RXYWxsZXQsXG4gIHJlZ2lzdGVyQXB0b3NDb25uZWN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@aptos-connect/wallet-adapter-plugin/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@aptos-connect/wallet-api/dist/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@aptos-connect/wallet-api/dist/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectRequest: () => (/* binding */ ConnectRequest),\n/* harmony export */   ConnectResponse: () => (/* binding */ ConnectResponse),\n/* harmony export */   DisconnectRequest: () => (/* binding */ DisconnectRequest),\n/* harmony export */   DisconnectResponse: () => (/* binding */ DisconnectResponse),\n/* harmony export */   EntryFunctionArgumentVariant: () => (/* binding */ EntryFunctionArgumentVariant),\n/* harmony export */   GetConnectedAccountsRequest: () => (/* binding */ GetConnectedAccountsRequest),\n/* harmony export */   GetConnectedAccountsResponse: () => (/* binding */ GetConnectedAccountsResponse),\n/* harmony export */   IsConnectedRequest: () => (/* binding */ IsConnectedRequest),\n/* harmony export */   IsConnectedResponse: () => (/* binding */ IsConnectedResponse),\n/* harmony export */   PromptApprovalResponseMessage: () => (/* binding */ PromptApprovalResponseMessage),\n/* harmony export */   PromptOpenerPingRequestMessage: () => (/* binding */ PromptOpenerPingRequestMessage),\n/* harmony export */   PromptOpenerPingResponseMessage: () => (/* binding */ PromptOpenerPingResponseMessage),\n/* harmony export */   PromptUnauthorizedErrorMessage: () => (/* binding */ PromptUnauthorizedErrorMessage),\n/* harmony export */   SignAndSubmitTransactionRequest: () => (/* binding */ SignAndSubmitTransactionRequest),\n/* harmony export */   SignAndSubmitTransactionResponse: () => (/* binding */ SignAndSubmitTransactionResponse),\n/* harmony export */   SignInRequest: () => (/* binding */ SignInRequest),\n/* harmony export */   SignInResponse: () => (/* binding */ SignInResponse),\n/* harmony export */   SignMessageRequest: () => (/* binding */ SignMessageRequest),\n/* harmony export */   SignMessageResponse: () => (/* binding */ SignMessageResponse),\n/* harmony export */   SignTransactionRequest: () => (/* binding */ SignTransactionRequest),\n/* harmony export */   SignTransactionResponse: () => (/* binding */ SignTransactionResponse),\n/* harmony export */   TransactionPayloadInputVariant: () => (/* binding */ TransactionPayloadInputVariant),\n/* harmony export */   base64ToBytes: () => (/* binding */ base64ToBytes),\n/* harmony export */   base64urlToBytes: () => (/* binding */ base64urlToBytes),\n/* harmony export */   bytesToBase64: () => (/* binding */ bytesToBase64),\n/* harmony export */   bytesToBase64url: () => (/* binding */ bytesToBase64url),\n/* harmony export */   chainIdToNetwork: () => (/* binding */ chainIdToNetwork),\n/* harmony export */   decodePopupWalletRequest: () => (/* binding */ decodePopupWalletRequest),\n/* harmony export */   decodeWalletRequestBody: () => (/* binding */ decodeWalletRequestBody),\n/* harmony export */   deserializeAccountAuthenticatorInput: () => (/* binding */ deserializeAccountAuthenticatorInput),\n/* harmony export */   deserializeAccountInfo: () => (/* binding */ deserializeAccountInfo),\n/* harmony export */   deserializeAccountInput: () => (/* binding */ deserializeAccountInput),\n/* harmony export */   deserializeDappInfo: () => (/* binding */ deserializeDappInfo),\n/* harmony export */   deserializeEntryFunctionArgument: () => (/* binding */ deserializeEntryFunctionArgument),\n/* harmony export */   deserializePublicKey: () => (/* binding */ deserializePublicKey),\n/* harmony export */   deserializeSignature: () => (/* binding */ deserializeSignature),\n/* harmony export */   deserializeTransactionPayloadInput: () => (/* binding */ deserializeTransactionPayloadInput),\n/* harmony export */   deserializeWalletRequest: () => (/* binding */ deserializeWalletRequest),\n/* harmony export */   deserializeWalletRequestWithArgs: () => (/* binding */ deserializeWalletRequestWithArgs),\n/* harmony export */   deserializeWalletResponse: () => (/* binding */ deserializeWalletResponse),\n/* harmony export */   encodePopupWalletRequest: () => (/* binding */ encodePopupWalletRequest),\n/* harmony export */   encodeWalletRequestBody: () => (/* binding */ encodeWalletRequestBody),\n/* harmony export */   isSupportedNetwork: () => (/* binding */ isSupportedNetwork),\n/* harmony export */   isTypedMessage: () => (/* binding */ isTypedMessage),\n/* harmony export */   makePopupWalletRequestChallenge: () => (/* binding */ makePopupWalletRequestChallenge),\n/* harmony export */   makeUserApproval: () => (/* binding */ makeUserApproval),\n/* harmony export */   makeUserResponseDeserializeFn: () => (/* binding */ makeUserResponseDeserializeFn),\n/* harmony export */   makeUserResponseSerializeFn: () => (/* binding */ makeUserResponseSerializeFn),\n/* harmony export */   serializeAccountAuthenticatorInput: () => (/* binding */ serializeAccountAuthenticatorInput),\n/* harmony export */   serializeAccountInfo: () => (/* binding */ serializeAccountInfo),\n/* harmony export */   serializeAccountInput: () => (/* binding */ serializeAccountInput),\n/* harmony export */   serializeDappInfo: () => (/* binding */ serializeDappInfo),\n/* harmony export */   serializeEntryFunctionArgument: () => (/* binding */ serializeEntryFunctionArgument),\n/* harmony export */   serializePublicKey: () => (/* binding */ serializePublicKey),\n/* harmony export */   serializeSignature: () => (/* binding */ serializeSignature),\n/* harmony export */   serializeTransactionPayloadInput: () => (/* binding */ serializeTransactionPayloadInput),\n/* harmony export */   serializeWalletRequest: () => (/* binding */ serializeWalletRequest),\n/* harmony export */   serializeWalletRequestWithArgs: () => (/* binding */ serializeWalletRequestWithArgs),\n/* harmony export */   serializeWalletResponse: () => (/* binding */ serializeWalletResponse),\n/* harmony export */   urlDecodeWalletRequest: () => (/* binding */ urlDecodeWalletRequest),\n/* harmony export */   urlEncodeWalletRequest: () => (/* binding */ urlEncodeWalletRequest)\n/* harmony export */ });\n/* harmony import */ var _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aptos-labs/ts-sdk */ \"(ssr)/./node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs\");\n/* harmony import */ var _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aptos-labs/wallet-standard */ \"(ssr)/./node_modules/@aptos-labs/wallet-standard/dist/esm/index.mjs\");\n// src/base64.ts\nfunction base64ToBytes(base64) {\n  const binaryString = atob(base64);\n  return Uint8Array.from(binaryString, (m) => m.charCodeAt(0));\n}\nfunction bytesToBase64(bytes) {\n  const binaryString = String.fromCharCode(...bytes);\n  return btoa(binaryString);\n}\nfunction base64urlToBytes(base64) {\n  return base64ToBytes(base64.replace(/-/g, \"+\").replace(/_/g, \"/\"));\n}\nfunction bytesToBase64url(bytes) {\n  return bytesToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\n\n// src/helpers.ts\n\nfunction chainIdToNetwork(chainId) {\n  switch (chainId) {\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.NetworkToChainId.mainnet:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.MAINNET;\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.NetworkToChainId.testnet:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.TESTNET;\n    default:\n      return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.DEVNET;\n  }\n}\nfunction isSupportedNetwork(network) {\n  return [_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.MAINNET, _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.TESTNET, _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Network.DEVNET].includes(network);\n}\n\n// src/features/connect/request.ts\n\n\n// src/WalletRequest.ts\n\n\n// src/shared/AccountAuthenticatorInput.ts\n\nfunction serializeAccountAuthenticatorInput(serializer, value) {\n  serializer.serialize(value.address);\n  serializer.serialize(value.authenticator);\n}\nfunction deserializeAccountAuthenticatorInput(deserializer) {\n  const address = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress);\n  const authenticator = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAuthenticator);\n  return { address, authenticator };\n}\n\n// src/shared/AccountInfo.ts\n\n\n// src/shared/PublicKey.ts\n\nfunction serializePublicKey(serializer, value) {\n  if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PublicKey) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.Ed25519);\n  } else if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiEd25519PublicKey) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiEd25519);\n  } else if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AnyPublicKey) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.SingleKey);\n  } else if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiKey) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiKey);\n  } else {\n    throw new Error(\"Unexpected public key type\");\n  }\n  serializer.serialize(value);\n}\nfunction deserializePublicKey(deserializer) {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.Ed25519:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PublicKey);\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiEd25519:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiEd25519PublicKey);\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.SingleKey:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AnyPublicKey);\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiKey:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiKey);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n\n// src/shared/AccountInfo.ts\nfunction serializeAccountInfo(serializer, value) {\n  serializer.serialize(value.address);\n  serializePublicKey(serializer, value.publicKey);\n  serializer.serializeStr(value.name ?? \"\");\n}\nfunction deserializeAccountInfo(deserializer) {\n  const address = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress);\n  const publicKey = deserializePublicKey(deserializer);\n  const name = deserializer.deserializeStr();\n  return {\n    address,\n    publicKey,\n    ...name.length > 0 ? { name } : void 0\n  };\n}\n\n// src/shared/AccountInput.ts\n\nfunction serializeAccountInput(serializer, value) {\n  serializer.serialize(value.address);\n  serializer.serializeBool(value.publicKey !== void 0);\n  if (value.publicKey) {\n    serializePublicKey(serializer, value.publicKey);\n  }\n}\nfunction deserializeAccountInput(deserializer) {\n  const address = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress);\n  const hasPublicKey = deserializer.deserializeBool();\n  const publicKey = hasPublicKey ? deserializePublicKey(deserializer) : void 0;\n  return { address, publicKey };\n}\n\n// src/shared/DappInfo.ts\nfunction serializeDappInfo(serializer, value) {\n  serializer.serializeStr(value.domain);\n  serializer.serializeStr(value.name);\n  serializer.serializeBool(value.imageURI !== void 0);\n  if (value.imageURI !== void 0) {\n    serializer.serializeStr(value.imageURI);\n  }\n}\nfunction deserializeDappInfo(deserializer) {\n  const domain = deserializer.deserializeStr();\n  const name = deserializer.deserializeStr();\n  const hasImageUri = deserializer.deserializeBool();\n  const imageURI = hasImageUri ? deserializer.deserializeStr() : void 0;\n  return { domain, imageURI, name };\n}\n\n// src/shared/EntryFunctionArgument.ts\n\nvar EntryFunctionArgumentVariant = /* @__PURE__ */ ((EntryFunctionArgumentVariant2) => {\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"Undefined\"] = 0] = \"Undefined\";\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"Array\"] = 1] = \"Array\";\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"String\"] = 2] = \"String\";\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"Uint8Array\"] = 3] = \"Uint8Array\";\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"AccountAddress\"] = 4] = \"AccountAddress\";\n  EntryFunctionArgumentVariant2[EntryFunctionArgumentVariant2[\"FixedBytes\"] = 5] = \"FixedBytes\";\n  return EntryFunctionArgumentVariant2;\n})(EntryFunctionArgumentVariant || {});\nfunction serializeEntryFunctionArgument(serializer, argument) {\n  if (argument === void 0 || argument === null) {\n    serializer.serializeU32AsUleb128(0 /* Undefined */);\n    return;\n  }\n  if (Array.isArray(argument)) {\n    serializer.serializeU32AsUleb128(1 /* Array */);\n    serializer.serializeU32AsUleb128(argument.length);\n    for (const subArgument of argument) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n  if (typeof argument === \"string\" || typeof argument === \"number\" || typeof argument === \"boolean\" || typeof argument === \"bigint\") {\n    serializer.serializeU32AsUleb128(2 /* String */);\n    serializer.serializeStr(argument.toString());\n    return;\n  }\n  if (argument instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(3 /* Uint8Array */);\n    serializer.serializeBytes(argument);\n    return;\n  }\n  if (argument instanceof ArrayBuffer) {\n    serializer.serializeU32AsUleb128(3 /* Uint8Array */);\n    serializer.serializeBytes(new Uint8Array(argument));\n    return;\n  }\n  if (\"values\" in argument) {\n    serializer.serializeU32AsUleb128(1 /* Array */);\n    serializer.serializeU32AsUleb128(argument.values.length);\n    for (const subArgument of argument.values) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n  if (\"data\" in argument) {\n    serializer.serializeU32AsUleb128(4 /* AccountAddress */);\n    serializer.serialize(argument);\n    return;\n  }\n  if (argument.value === void 0) {\n    serializer.serializeU32AsUleb128(0 /* Undefined */);\n    serializer.serialize(argument);\n    return;\n  }\n  if (argument.value instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(5 /* FixedBytes */);\n    serializer.serializeBytes(argument.value);\n    return;\n  }\n  serializer.serializeU32AsUleb128(2 /* String */);\n  serializer.serializeStr(argument.value.toString());\n}\nfunction deserializeEntryFunctionArgument(deserializer) {\n  const variant = deserializer.deserializeUleb128AsU32();\n  switch (variant) {\n    case 0 /* Undefined */: {\n      return void 0;\n    }\n    case 1 /* Array */: {\n      const length = deserializer.deserializeUleb128AsU32();\n      const args = [];\n      for (let i = 0; i < length; i += 1) {\n        const argument = deserializeEntryFunctionArgument(deserializer);\n        args.push(argument);\n      }\n      return args;\n    }\n    case 3 /* Uint8Array */: {\n      return deserializer.deserializeBytes();\n    }\n    case 4 /* AccountAddress */: {\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress);\n    }\n    case 2 /* String */: {\n      return deserializer.deserializeStr();\n    }\n    case 5 /* FixedBytes */: {\n      const bytes = deserializer.deserializeBytes();\n      return new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.FixedBytes(bytes);\n    }\n    default: {\n      throw new Error(\"Unexpected variant\");\n    }\n  }\n}\n\n// src/shared/Signature.ts\n\nfunction serializeSignature(serializer, value) {\n  if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.Ed25519);\n  } else if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiEd25519Signature) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiEd25519);\n  } else if (value instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AnySignature) {\n    serializer.serializeU32AsUleb128(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.SingleKey);\n  } else {\n    throw new Error(\"Unexpected signature type\");\n  }\n  serializer.serialize(value);\n}\nfunction deserializeSignature(deserializer) {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.Ed25519:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature);\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.MultiEd25519:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.MultiEd25519Signature);\n    case _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.SigningScheme.SingleKey:\n      return deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AnySignature);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n\n// src/shared/TransactionPayloadInput.ts\n\nvar TransactionPayloadInputVariant = /* @__PURE__ */ ((TransactionPayloadInputVariant2) => {\n  TransactionPayloadInputVariant2[TransactionPayloadInputVariant2[\"EntryFunction\"] = 0] = \"EntryFunction\";\n  TransactionPayloadInputVariant2[TransactionPayloadInputVariant2[\"Script\"] = 1] = \"Script\";\n  TransactionPayloadInputVariant2[TransactionPayloadInputVariant2[\"Multisig\"] = 2] = \"Multisig\";\n  return TransactionPayloadInputVariant2;\n})(TransactionPayloadInputVariant || {});\nfunction serializeTypeArguments(serializer, typeArguments) {\n  serializer.serializeU32AsUleb128(typeArguments.length);\n  for (const typeArgument of typeArguments) {\n    const typeTag = typeof typeArgument === \"string\" ? (0,_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.parseTypeTag)(typeArgument, { allowGenerics: true }) : typeArgument;\n    serializer.serialize(typeTag);\n  }\n}\nfunction deserializeTypeArguments(deserializer) {\n  const typeArguments = [];\n  const typeArgumentsLength = deserializer.deserializeUleb128AsU32();\n  for (let i = 0; i < typeArgumentsLength; i += 1) {\n    const typeTag = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.TypeTag);\n    typeArguments.push(typeTag);\n  }\n  return typeArguments;\n}\nfunction serializeEntryFunctionArguments(serializer, functionArguments) {\n  serializer.serializeU32AsUleb128(functionArguments.length);\n  for (const functionArgument of functionArguments) {\n    serializeEntryFunctionArgument(serializer, functionArgument);\n  }\n}\nfunction deserializeEntryFunctionArguments(deserializer) {\n  const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n  const functionArguments = [];\n  for (let i = 0; i < functionArgumentsLength; i += 1) {\n    const functionArgument = deserializeEntryFunctionArgument(deserializer);\n    functionArguments.push(functionArgument);\n  }\n  return functionArguments;\n}\nfunction serializeTransactionPayloadInput(serializer, value) {\n  if (\"multisigAddress\" in value) {\n    serializer.serializeU32AsUleb128(2 /* Multisig */);\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n    const multisigAddress = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress.from(value.multisigAddress);\n    serializer.serialize(multisigAddress);\n  } else if (\"function\" in value) {\n    serializer.serializeU32AsUleb128(0 /* EntryFunction */);\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n  } else {\n    serializer.serializeU32AsUleb128(1 /* Script */);\n    const bytecode = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(value.bytecode);\n    serializer.serializeBytes(bytecode.toUint8Array());\n    serializer.serializeU32AsUleb128(value.functionArguments.length);\n    for (const argument of value.functionArguments) {\n      argument.serializeForScriptFunction(serializer);\n    }\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n  }\n}\nfunction deserializeTransactionPayloadInput(deserializer) {\n  const variant = deserializer.deserializeUleb128AsU32();\n  switch (variant) {\n    case 2 /* Multisig */: {\n      const functionId = deserializer.deserializeStr();\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      const multisigAddress = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress);\n      return {\n        function: functionId,\n        functionArguments,\n        multisigAddress,\n        typeArguments\n      };\n    }\n    case 0 /* EntryFunction */: {\n      const functionId = deserializer.deserializeStr();\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        function: functionId,\n        functionArguments,\n        typeArguments\n      };\n    }\n    case 1 /* Script */: {\n      const bytecode = deserializer.deserializeBytes();\n      const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n      const functionArguments = [];\n      for (let i = 0; i < functionArgumentsLength; i += 1) {\n        const argument = (0,_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.deserializeFromScriptArgument)(deserializer);\n        functionArguments.push(argument);\n      }\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        bytecode,\n        functionArguments,\n        typeArguments\n      };\n    }\n    default: {\n      throw new Error(\"Unexpected variant\");\n    }\n  }\n}\n\n// src/WalletRequest.ts\nfunction serializeWalletRequest({\n  dappInfo,\n  name,\n  version\n}) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\nfunction deserializeWalletRequest({\n  data,\n  name,\n  version\n}) {\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  return { dappInfo, name, version };\n}\nfunction serializeWalletRequestWithArgs({ args, dappInfo, name, version }, serializeArgsFn) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  serializeArgsFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\nfunction deserializeWalletRequestWithArgs({ data, name, version }, deserializeArgsFn) {\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  const args = deserializeArgsFn(deserializer);\n  return { args, dappInfo, name, version };\n}\n\n// src/features/connect/request.ts\nvar ConnectRequest;\n((ConnectRequest2) => {\n  ConnectRequest2.name = \"connect\";\n  ConnectRequest2.supportedVersions = [1, 2, 3, 4];\n  ConnectRequest2.currentVersion = 4;\n  function serializeArgs(serializer, value) {\n    serializer.serializeOptionStr(value.dappId);\n    serializer.serializeOptionStr(value.dappEd25519PublicKeyB64);\n    serializer.serializeOptionStr(value.preferredWalletName);\n    serializer.serializeBool(value.claimOptions !== void 0);\n    if (value.claimOptions) {\n      serializer.serialize(value.claimOptions.secretKey);\n      serializer.serializeStr(value.claimOptions.network);\n      serializer.serializeOptionStr(value.claimOptions.asset);\n      if (!isSupportedNetwork(value.claimOptions.network)) {\n        throw new Error(`Unsupported network '${value.claimOptions.network}'`);\n      }\n    }\n  }\n  ConnectRequest2.serializeArgs = serializeArgs;\n  function deserializeArgs(deserializer, version) {\n    if (version === 1) {\n      return {};\n    }\n    const dappId = deserializer.deserializeOption(\"string\");\n    const dappEd25519PublicKeyB64 = deserializer.deserializeOption(\"string\");\n    const preferredWalletName = version >= 3 ? deserializer.deserializeOption(\"string\") : void 0;\n    const hasClaimOptions = version >= 4 ? deserializer.deserializeBool() : false;\n    let claimOptions;\n    if (hasClaimOptions) {\n      const secretKey = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PrivateKey);\n      const network = deserializer.deserializeStr();\n      const asset = deserializer.deserializeOption(\"string\");\n      if (!isSupportedNetwork(network)) {\n        throw new Error(`Unsupported network '${network}'`);\n      }\n      claimOptions = { asset, network, secretKey };\n    }\n    return { claimOptions, dappEd25519PublicKeyB64, dappId, preferredWalletName };\n  }\n  ConnectRequest2.deserializeArgs = deserializeArgs;\n  function serialize(dappInfo, args = {}) {\n    return serializeWalletRequestWithArgs({ args, dappInfo, name: ConnectRequest2.name, version: ConnectRequest2.currentVersion }, serializeArgs);\n  }\n  ConnectRequest2.serialize = serialize;\n  function deserialize(request) {\n    return deserializeWalletRequestWithArgs(request, (d) => deserializeArgs(d, request.version));\n  }\n  ConnectRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === ConnectRequest2.name && ConnectRequest2.supportedVersions.includes(request.version);\n  }\n  ConnectRequest2.isSerialized = isSerialized;\n})(ConnectRequest || (ConnectRequest = {}));\n\n// src/UserResponse.ts\nfunction makeUserApproval(args) {\n  return { args, status: \"approved\" };\n}\nfunction makeUserResponseSerializeFn(serializeArgs) {\n  return (serializer, value) => {\n    serializer.serializeBool(value.status === \"approved\");\n    if (value.status === \"approved\") {\n      serializeArgs(serializer, value.args);\n    }\n  };\n}\nfunction makeUserResponseDeserializeFn(deserializeArgs) {\n  return (deserializer) => {\n    const isApproved = deserializer.deserializeBool();\n    return isApproved ? { args: deserializeArgs(deserializer), status: \"approved\" } : { status: \"dismissed\" };\n  };\n}\n\n// src/WalletResponse.ts\n\nfunction serializeWalletResponse(args, serializeFn) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  serializeFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data };\n}\nfunction deserializeWalletResponse({ data }, deserializeFn) {\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(data);\n  const args = deserializeFn(deserializer);\n  return { args };\n}\n\n// src/features/connect/response.ts\nvar ConnectResponse;\n((ConnectResponse2) => {\n  ConnectResponse2.supportedVersions = [1, 2];\n  ConnectResponse2.currentVersion = 2;\n  function serializeApprovalArgsV1(serializer, value) {\n    serializeAccountInfo(serializer, value.account);\n  }\n  function serializeApprovalArgs(serializer, value) {\n    serializeAccountInfo(serializer, value.account);\n    serializer.serializeOptionStr(value.pairing !== void 0 ? JSON.stringify(value.pairing) : void 0);\n  }\n  function deserializeApprovalArgs(deserializer) {\n    const account = deserializeAccountInfo(deserializer);\n    const serializedPairing = deserializer.deserializeOption(\"string\");\n    const pairing = serializedPairing !== void 0 ? JSON.parse(serializedPairing) : void 0;\n    return { account, pairing };\n  }\n  const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n  function serialize(args, version = ConnectResponse2.currentVersion) {\n    return serializeWalletResponse(args, version === 1 ? serializeArgsV1 : serializeArgs);\n  }\n  ConnectResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  ConnectResponse2.deserialize = deserialize;\n})(ConnectResponse || (ConnectResponse = {}));\n\n// src/features/disconnect/request.ts\nvar DisconnectRequest;\n((DisconnectRequest2) => {\n  DisconnectRequest2.name = \"disconnect\";\n  DisconnectRequest2.currentVersion = 1;\n  function serialize(dappInfo) {\n    return serializeWalletRequest({ dappInfo, name: DisconnectRequest2.name, version: DisconnectRequest2.currentVersion });\n  }\n  DisconnectRequest2.serialize = serialize;\n  function deserialize(request) {\n    return deserializeWalletRequest(request);\n  }\n  DisconnectRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === DisconnectRequest2.name && request.version === DisconnectRequest2.currentVersion;\n  }\n  DisconnectRequest2.isSerialized = isSerialized;\n})(DisconnectRequest || (DisconnectRequest = {}));\n\n// src/features/disconnect/response.ts\nvar DisconnectResponse;\n((DisconnectResponse2) => {\n  function serialize(args) {\n    return serializeWalletResponse(args, () => {\n    });\n  }\n  DisconnectResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, () => ({}));\n  }\n  DisconnectResponse2.deserialize = deserialize;\n})(DisconnectResponse || (DisconnectResponse = {}));\n\n// src/shared/AptosSignInInput.ts\nfunction serializeAptosSignInInput(serializer, value) {\n  serializer.serializeStr(JSON.stringify(value));\n}\nfunction deserializeAptosSignInInput(deserializer) {\n  return JSON.parse(deserializer.deserializeStr());\n}\n\n// src/features/signIn/request.ts\nvar SignInRequest;\n((SignInRequest2) => {\n  SignInRequest2.name = \"signIn\";\n  SignInRequest2.supportedVersions = [1];\n  SignInRequest2.currentVersion = 1;\n  function serializeArgs(serializer, value) {\n    if (value.network !== void 0 && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}' in SignInRequest.serializeArgs`);\n    }\n    serializeAptosSignInInput(serializer, value);\n    serializer.serializeStr(value.network);\n  }\n  SignInRequest2.serializeArgs = serializeArgs;\n  function deserializeArgs(deserializer, _) {\n    return { ...deserializeAptosSignInInput(deserializer), network: deserializer.deserializeStr() };\n  }\n  SignInRequest2.deserializeArgs = deserializeArgs;\n  function serialize(dappInfo, args) {\n    return serializeWalletRequestWithArgs({ args, dappInfo, name: SignInRequest2.name, version: SignInRequest2.currentVersion }, serializeArgs);\n  }\n  SignInRequest2.serialize = serialize;\n  function deserialize(request) {\n    return deserializeWalletRequestWithArgs(request, (d) => deserializeArgs(d, request.version));\n  }\n  SignInRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === SignInRequest2.name && SignInRequest2.supportedVersions.includes(request.version);\n  }\n  SignInRequest2.isSerialized = isSerialized;\n})(SignInRequest || (SignInRequest = {}));\n\n// src/shared/AptosSignInOutput.ts\n\nfunction serializeAptosSignInOutput(serializer, value) {\n  serializeAccountInfo(serializer, value.account);\n  serializer.serializeStr(JSON.stringify(value.input));\n  serializer.serializeStr(value.plainText);\n  serializeSignature(serializer, value.signature);\n  serializer.serializeBytes(value.signingMessage);\n  serializer.serializeStr(value.type);\n}\nfunction deserializeAptosSignInOutput(deserializer) {\n  return {\n    account: new _aptos_labs_wallet_standard__WEBPACK_IMPORTED_MODULE_1__.AccountInfo(deserializeAccountInfo(deserializer)),\n    input: JSON.parse(deserializer.deserializeStr()),\n    plainText: deserializer.deserializeStr(),\n    signature: deserializeSignature(deserializer),\n    signingMessage: deserializer.deserializeBytes(),\n    type: deserializer.deserializeStr()\n  };\n}\n\n// src/features/signIn/response.ts\nvar SignInResponse;\n((SignInResponse2) => {\n  SignInResponse2.supportedVersions = [1];\n  SignInResponse2.currentVersion = 1;\n  function serializeApprovalArgs(serializer, value) {\n    serializeAptosSignInOutput(serializer, value);\n  }\n  function deserializeApprovalArgs(deserializer) {\n    return deserializeAptosSignInOutput(deserializer);\n  }\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n  function serialize(args, _ = SignInResponse2.currentVersion) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  SignInResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  SignInResponse2.deserialize = deserialize;\n})(SignInResponse || (SignInResponse = {}));\n\n// src/features/getConnectedAccounts/request.ts\nvar GetConnectedAccountsRequest;\n((GetConnectedAccountsRequest2) => {\n  GetConnectedAccountsRequest2.name = \"getConnectedAccounts\";\n  GetConnectedAccountsRequest2.currentVersion = 1;\n  function serialize(dappInfo) {\n    return serializeWalletRequest({ dappInfo, name: GetConnectedAccountsRequest2.name, version: GetConnectedAccountsRequest2.currentVersion });\n  }\n  GetConnectedAccountsRequest2.serialize = serialize;\n  function deserialize(request) {\n    return deserializeWalletRequest(request);\n  }\n  GetConnectedAccountsRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === GetConnectedAccountsRequest2.name && request.version === GetConnectedAccountsRequest2.currentVersion;\n  }\n  GetConnectedAccountsRequest2.isSerialized = isSerialized;\n})(GetConnectedAccountsRequest || (GetConnectedAccountsRequest = {}));\n\n// src/features/getConnectedAccounts/response.ts\nvar GetConnectedAccountsResponse;\n((GetConnectedAccountsResponse2) => {\n  function serializeArgs(serializer, args) {\n    serializer.serializeU32AsUleb128(args.length);\n    for (const account of args) {\n      serializeAccountInfo(serializer, account);\n    }\n  }\n  function deserializeArgs(deserializer) {\n    const length = deserializer.deserializeUleb128AsU32();\n    const accounts = [];\n    for (let i = 0; i < length; i += 1) {\n      accounts.push(deserializeAccountInfo(deserializer));\n    }\n    return accounts;\n  }\n  function serialize(args) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  GetConnectedAccountsResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  GetConnectedAccountsResponse2.deserialize = deserialize;\n})(GetConnectedAccountsResponse || (GetConnectedAccountsResponse = {}));\n\n// src/features/isConnected/request.ts\nvar IsConnectedRequest;\n((IsConnectedRequest2) => {\n  IsConnectedRequest2.name = \"isConnected\";\n  IsConnectedRequest2.currentVersion = 1;\n  function serialize(dappInfo) {\n    return serializeWalletRequest({ dappInfo, name: IsConnectedRequest2.name, version: IsConnectedRequest2.currentVersion });\n  }\n  IsConnectedRequest2.serialize = serialize;\n  function deserialize(request) {\n    return deserializeWalletRequest(request);\n  }\n  IsConnectedRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === IsConnectedRequest2.name && request.version === IsConnectedRequest2.currentVersion;\n  }\n  IsConnectedRequest2.isSerialized = isSerialized;\n})(IsConnectedRequest || (IsConnectedRequest = {}));\n\n// src/features/isConnected/response.ts\nvar IsConnectedResponse;\n((IsConnectedResponse2) => {\n  function serializeArgs(serializer, value) {\n    serializer.serializeBool(value);\n  }\n  function deserializeArgs(deserializer) {\n    return deserializer.deserializeBool();\n  }\n  function serialize(args) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  IsConnectedResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  IsConnectedResponse2.deserialize = deserialize;\n})(IsConnectedResponse || (IsConnectedResponse = {}));\n\n// src/features/signAndSubmitTransaction/request.ts\n\nvar SignAndSubmitTransactionRequest;\n((SignAndSubmitTransactionRequest2) => {\n  SignAndSubmitTransactionRequest2.name = \"signAndSubmitTransaction\";\n  SignAndSubmitTransactionRequest2.supportedVersions = [1, 2, 3];\n  SignAndSubmitTransactionRequest2.currentVersion = 3;\n  function serializeArgs(serializer, value) {\n    if (value.network !== void 0 && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n    serializer.serializeBool(value.signerAddress !== void 0);\n    if (value.signerAddress !== void 0) {\n      serializer.serialize(value.signerAddress);\n    }\n    serializer.serializeOptionStr(value.network);\n    if (\"bcsToBytes\" in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n    serializer.serializeU32AsUleb128(value.feePayer ? 1 : 0);\n    if (value.feePayer) {\n      serializeAccountAuthenticatorInput(serializer, value.feePayer);\n    }\n  }\n  SignAndSubmitTransactionRequest2.serializeArgs = serializeArgs;\n  function deserializeArgs(deserializer, version) {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress) : void 0;\n    const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOption(\"string\");\n    if (network !== void 0 && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n    const isPayloadBcsSerializable = version === 1 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionPayload) : deserializeTransactionPayloadInput(deserializer);\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n    const hasFeePayer = deserializer.deserializeUleb128AsU32();\n    const feePayer = hasFeePayer ? deserializeAccountAuthenticatorInput(deserializer) : void 0;\n    return {\n      expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : void 0,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : void 0,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : void 0,\n      network,\n      payload,\n      signerAddress\n    };\n  }\n  SignAndSubmitTransactionRequest2.deserializeArgs = deserializeArgs;\n  function serialize(dappInfo, args) {\n    const request = { args, dappInfo, name: SignAndSubmitTransactionRequest2.name, version: SignAndSubmitTransactionRequest2.currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n  SignAndSubmitTransactionRequest2.serialize = serialize;\n  function deserialize(serializedRequest) {\n    return deserializeWalletRequestWithArgs(\n      serializedRequest,\n      (deserializer) => deserializeArgs(deserializer, serializedRequest.version)\n    );\n  }\n  SignAndSubmitTransactionRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === SignAndSubmitTransactionRequest2.name && SignAndSubmitTransactionRequest2.supportedVersions.includes(request.version);\n  }\n  SignAndSubmitTransactionRequest2.isSerialized = isSerialized;\n})(SignAndSubmitTransactionRequest || (SignAndSubmitTransactionRequest = {}));\n\n// src/features/signAndSubmitTransaction/response.ts\nvar SignAndSubmitTransactionResponse;\n((SignAndSubmitTransactionResponse2) => {\n  function serializeApprovalArgs(serializer, value) {\n    serializer.serializeStr(value.txnHash);\n  }\n  function deserializeApprovalArgs(deserializer) {\n    const txnHash = deserializer.deserializeStr();\n    return { txnHash };\n  }\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n  function serialize(args) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  SignAndSubmitTransactionResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  SignAndSubmitTransactionResponse2.deserialize = deserialize;\n})(SignAndSubmitTransactionResponse || (SignAndSubmitTransactionResponse = {}));\n\n// src/features/signMessage/request.ts\n\nvar SignMessageRequest;\n((SignMessageRequest2) => {\n  SignMessageRequest2.name = \"signMessage\";\n  SignMessageRequest2.supportedVersions = [1, 2];\n  SignMessageRequest2.currentVersion = 2;\n  function serializeArgs(serializer, value) {\n    serializer.serializeBool(value.signerAddress !== void 0);\n    if (value.signerAddress !== void 0) {\n      serializer.serialize(value.signerAddress);\n    }\n    serializer.serializeU8(value.chainId);\n    serializer.serializeBytes(value.nonce);\n    serializer.serializeBytes(value.message);\n  }\n  function deserializeArgs(deserializer, version) {\n    const hasSignerAddress = version >= 2 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress) : void 0;\n    const chainId = deserializer.deserializeU8();\n    const nonce = deserializer.deserializeBytes();\n    const message = deserializer.deserializeBytes();\n    return { chainId, message, nonce, signerAddress };\n  }\n  function serialize(dappInfo, args) {\n    const request = { args, dappInfo, name: SignMessageRequest2.name, version: SignMessageRequest2.currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n  SignMessageRequest2.serialize = serialize;\n  function deserialize(serializedRequest) {\n    return deserializeWalletRequestWithArgs(serializedRequest, (d) => deserializeArgs(d, serializedRequest.version));\n  }\n  SignMessageRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === SignMessageRequest2.name && request.version === SignMessageRequest2.currentVersion;\n  }\n  SignMessageRequest2.isSerialized = isSerialized;\n})(SignMessageRequest || (SignMessageRequest = {}));\n\n// src/features/signMessage/response.ts\nvar SignMessageResponse;\n((SignMessageResponse2) => {\n  function serializeApprovalArgs(serializer, value) {\n    serializer.serializeStr(value.fullMessage);\n    serializeSignature(serializer, value.signature);\n  }\n  function deserializeApprovalArgs(deserializer) {\n    const fullMessage = deserializer.deserializeStr();\n    const signature = deserializeSignature(deserializer);\n    return { fullMessage, signature };\n  }\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n  function serialize(args) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  SignMessageResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  SignMessageResponse2.deserialize = deserialize;\n})(SignMessageResponse || (SignMessageResponse = {}));\n\n// src/features/signTransaction/request.ts\n\nvar SignTransactionRequest;\n((SignTransactionRequest2) => {\n  SignTransactionRequest2.name = \"signTransaction\";\n  SignTransactionRequest2.supportedVersions = [1, 2, 3, 4];\n  SignTransactionRequest2.currentVersion = 4;\n  function normalizeArgs(args) {\n    const { feePayer, secondarySigners, senderPublicKey, signerAddress, transaction } = args;\n    const sender = {\n      address: transaction.sender,\n      publicKey: senderPublicKey\n    };\n    const network = chainIdToNetwork(args.transaction.chain_id.chainId);\n    return {\n      expirationTimestamp: Number(transaction.expiration_timestamp_secs),\n      feePayer,\n      gasUnitPrice: Number(transaction.gas_unit_price),\n      maxGasAmount: Number(transaction.max_gas_amount),\n      network,\n      payload: transaction.payload,\n      secondarySigners,\n      sender,\n      signerAddress\n    };\n  }\n  SignTransactionRequest2.normalizeArgs = normalizeArgs;\n  function serializeArgs(serializer, value) {\n    if (value.network !== void 0 && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n    serializer.serializeBool(value.signerAddress !== void 0);\n    if (value.signerAddress !== void 0) {\n      serializer.serialize(value.signerAddress);\n    }\n    serializer.serializeOptionStr(value.network);\n    serializer.serializeBool(value.sender !== void 0);\n    if (value.sender !== void 0) {\n      serializeAccountInput(serializer, value.sender);\n    }\n    if (\"bcsToBytes\" in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n    serializer.serializeU32AsUleb128(value.expirationSecondsFromNow ?? 0);\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n    serializer.serializeBool(value.feePayer !== void 0);\n    if (value.feePayer !== void 0) {\n      serializeAccountInput(serializer, value.feePayer);\n    }\n    const secondarySigners = value.secondarySigners ?? [];\n    serializer.serializeU32AsUleb128(secondarySigners.length);\n    for (const signer of secondarySigners) {\n      serializeAccountInput(serializer, signer);\n    }\n  }\n  function deserializeArgs(deserializer, version) {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress) : void 0;\n    const network = version === 1 ? deserializer.deserializeStr() : deserializer.deserializeOption(\"string\");\n    if (network !== void 0 && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n    const hasSender = deserializer.deserializeBool();\n    const sender = hasSender ? deserializeAccountInput(deserializer) : void 0;\n    const isPayloadBcsSerializable = version < 4 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionPayload) : deserializeTransactionPayloadInput(deserializer);\n    const expirationSecondsFromNow = deserializer.deserializeUleb128AsU32();\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n    const hasFeePayer = deserializer.deserializeBool();\n    const feePayer = hasFeePayer ? deserializeAccountInput(deserializer) : void 0;\n    const secondarySignersLength = deserializer.deserializeUleb128AsU32();\n    const secondarySigners = [];\n    for (let i = 0; i < secondarySignersLength; i += 1) {\n      secondarySigners.push(deserializeAccountInput(deserializer));\n    }\n    return {\n      expirationSecondsFromNow: expirationSecondsFromNow > 0 ? expirationSecondsFromNow : void 0,\n      expirationTimestamp: expirationTimestamp > 0 ? expirationTimestamp : void 0,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : void 0,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : void 0,\n      network,\n      payload,\n      secondarySigners,\n      sender,\n      signerAddress\n    };\n  }\n  function serialize(dappInfo, args) {\n    const request = { args, dappInfo, name: SignTransactionRequest2.name, version: SignTransactionRequest2.currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n  SignTransactionRequest2.serialize = serialize;\n  function deserialize(serializedRequest) {\n    return deserializeWalletRequestWithArgs(\n      serializedRequest,\n      (deserializer) => deserializeArgs(deserializer, serializedRequest.version)\n    );\n  }\n  SignTransactionRequest2.deserialize = deserialize;\n  function isSerialized(request) {\n    return request.name === SignTransactionRequest2.name && SignTransactionRequest2.supportedVersions.includes(request.version);\n  }\n  SignTransactionRequest2.isSerialized = isSerialized;\n})(SignTransactionRequest || (SignTransactionRequest = {}));\n\n// src/features/signTransaction/response.ts\n\nvar SignTransactionResponse;\n((SignTransactionResponse2) => {\n  function serializeApprovalArgs(serializer, value) {\n    serializer.serialize(value.authenticator);\n    serializer.serializeBool(value.rawTransaction !== void 0);\n    if (value.rawTransaction !== void 0) {\n      serializer.serialize(value.rawTransaction);\n    }\n  }\n  function deserializeApprovalArgs(deserializer) {\n    const authenticator = deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAuthenticator);\n    const hasRawTransaction = deserializer.deserializeBool();\n    const rawTransaction = hasRawTransaction ? deserializer.deserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.RawTransaction) : void 0;\n    return {\n      authenticator,\n      rawTransaction\n    };\n  }\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(deserializeApprovalArgs);\n  function serialize(args) {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n  SignTransactionResponse2.serialize = serialize;\n  function deserialize(serializedResponse) {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n  SignTransactionResponse2.deserialize = deserialize;\n})(SignTransactionResponse || (SignTransactionResponse = {}));\n\n// src/messages/common.ts\nfunction isTypedMessage(messageCls, message) {\n  return message?.__messageType === messageCls.TYPE;\n}\n\n// src/messages/prompt.ts\n\nvar _PromptOpenerPingRequestMessage = class _PromptOpenerPingRequestMessage {\n  constructor() {\n    this.__messageType = _PromptOpenerPingRequestMessage.TYPE;\n  }\n};\n_PromptOpenerPingRequestMessage.TYPE = \"PromptOpenerPingRequest\";\nvar PromptOpenerPingRequestMessage = _PromptOpenerPingRequestMessage;\nvar _PromptOpenerPingResponseMessage = class _PromptOpenerPingResponseMessage {\n  constructor() {\n    this.__messageType = _PromptOpenerPingResponseMessage.TYPE;\n  }\n};\n_PromptOpenerPingResponseMessage.TYPE = \"PromptOpenerPingResponse\";\nvar PromptOpenerPingResponseMessage = _PromptOpenerPingResponseMessage;\nvar _PromptApprovalResponseMessage = class _PromptApprovalResponseMessage {\n  constructor(serializedValue) {\n    this.serializedValue = serializedValue;\n    this.__messageType = _PromptApprovalResponseMessage.TYPE;\n  }\n};\n_PromptApprovalResponseMessage.TYPE = \"PromptApprovalResponse\";\nvar PromptApprovalResponseMessage = _PromptApprovalResponseMessage;\nvar _PromptUnauthorizedErrorMessage = class _PromptUnauthorizedErrorMessage {\n  constructor() {\n    this.__messageType = _PromptUnauthorizedErrorMessage.TYPE;\n  }\n};\n_PromptUnauthorizedErrorMessage.TYPE = \"PromptUnauthorizedError\";\nvar PromptUnauthorizedErrorMessage = _PromptUnauthorizedErrorMessage;\nfunction urlEncodeWalletRequest(request) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  serializer.serializeStr(request.name);\n  serializer.serializeBytes(request.data);\n  serializer.serializeStr(request.version.toString());\n  return bytesToBase64(serializer.toUint8Array());\n}\nfunction urlDecodeWalletRequest(encodedRequest) {\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(base64ToBytes(encodedRequest));\n  const name = deserializer.deserializeStr();\n  const data = deserializer.deserializeBytes();\n  let version;\n  try {\n    version = Number(deserializer.deserializeStr());\n  } catch {\n    version = 1;\n  }\n  return { data, name, version };\n}\n\n// src/PopupWalletRequest.ts\n\n\n// src/WalletRequestBody.ts\nfunction encodeWalletRequestBody({ data, ...rest }) {\n  const serialized = JSON.stringify({ data, ...rest }, (key, value) => key === \"data\" ? bytesToBase64(value) : value);\n  const utf8Encoded = new TextEncoder().encode(serialized);\n  return bytesToBase64(utf8Encoded);\n}\nfunction decodeWalletRequestBody(encoded) {\n  const utfEncoded = base64ToBytes(encoded);\n  const serialized = new TextDecoder().decode(utfEncoded);\n  return JSON.parse(serialized, (key, value) => key === \"data\" ? base64ToBytes(value) : value);\n}\n\n// src/PopupWalletRequest.ts\nfunction encodePopupWalletRequest(request) {\n  const serialized = JSON.stringify(request, (key, value) => {\n    switch (key) {\n      case \"body\":\n        return encodeWalletRequestBody(value);\n      case \"clientIdentityKey\":\n        return bytesToBase64(value.toUint8Array());\n      case \"signature\":\n        return bytesToBase64(value.toUint8Array());\n      default:\n        return value;\n    }\n  });\n  const utf8Encoded = new TextEncoder().encode(serialized);\n  return bytesToBase64url(utf8Encoded);\n}\nfunction decodePopupWalletRequest(encoded) {\n  const utfEncoded = base64urlToBytes(encoded);\n  const serialized = new TextDecoder().decode(utfEncoded);\n  return JSON.parse(serialized, (key, value) => {\n    switch (key) {\n      case \"body\":\n        return decodeWalletRequestBody(value);\n      case \"clientIdentityKey\":\n        return new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PublicKey(base64ToBytes(value));\n      case \"signature\":\n        return new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature(base64ToBytes(value));\n      default:\n        return value;\n    }\n  });\n}\nfunction makePopupWalletRequestChallenge({\n  accountAddress,\n  body,\n  id,\n  timestamp\n}) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  serializer.serializeStr(\"SignedPopupWalletRequest\");\n  serializer.serializeStr(id);\n  serializer.serializeU64(timestamp);\n  serializer.serializeBool(accountAddress !== void 0);\n  if (accountAddress !== void 0) {\n    serializer.serialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAddress.from(accountAddress));\n  }\n  serializer.serializeStr(body.name);\n  serializer.serializeU8(body.version);\n  serializer.serializeBytes(body.data);\n  return serializer.toUint8Array();\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFwdG9zLWNvbm5lY3Qvd2FsbGV0LWFwaS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0Q7QUFDQTtBQUNBLFNBQVMsZ0VBQWdCO0FBQ3pCLGFBQWEsdURBQU87QUFDcEIsU0FBUyxnRUFBZ0I7QUFDekIsYUFBYSx1REFBTztBQUNwQjtBQUNBLGFBQWEsdURBQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1REFBTyxVQUFVLHVEQUFPLFVBQVUsdURBQU87QUFDbkQ7O0FBRUE7QUFDdUQ7O0FBRXZEO0FBQzhGOztBQUU5RjtBQUMwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDhEQUFjO0FBQ3pELGlEQUFpRCxvRUFBb0I7QUFDckUsV0FBVztBQUNYOztBQUVBO0FBQ3VFOztBQUV2RTtBQU80QjtBQUM1QjtBQUNBLHVCQUF1QixnRUFBZ0I7QUFDdkMscUNBQXFDLDZEQUFhO0FBQ2xELElBQUksMEJBQTBCLHFFQUFxQjtBQUNuRCxxQ0FBcUMsNkRBQWE7QUFDbEQsSUFBSSwwQkFBMEIsNERBQVk7QUFDMUMscUNBQXFDLDZEQUFhO0FBQ2xELElBQUksMEJBQTBCLHdEQUFRO0FBQ3RDLHFDQUFxQyw2REFBYTtBQUNsRCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZEQUFhO0FBQ3RCLHNDQUFzQyxnRUFBZ0I7QUFDdEQsU0FBUyw2REFBYTtBQUN0QixzQ0FBc0MscUVBQXFCO0FBQzNELFNBQVMsNkRBQWE7QUFDdEIsc0NBQXNDLDREQUFZO0FBQ2xELFNBQVMsNkRBQWE7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V0FBVztBQUNYOztBQUVBO0FBTTRCOztBQUU1QjtBQUNBLG1DQUFtQyxlQUFlO0FBQ2xELHNDQUFzQyxlQUFlO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnRUFBaUI7QUFDcEM7QUFDQSxtQkFBbUIsZ0VBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCLDBEQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOERBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBK0RFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcc2hyYXZcXGFpLmFwdC1tZXRhbW92ZS1oYWNrYXRob25cXGZyb250ZWRcXG5vZGVfbW9kdWxlc1xcQGFwdG9zLWNvbm5lY3RcXHdhbGxldC1hcGlcXGRpc3RcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYmFzZTY0LnRzXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzKGJhc2U2NCkge1xuICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NCk7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20oYmluYXJ5U3RyaW5nLCAobSkgPT4gbS5jaGFyQ29kZUF0KDApKTtcbn1cbmZ1bmN0aW9uIGJ5dGVzVG9CYXNlNjQoYnl0ZXMpIHtcbiAgY29uc3QgYmluYXJ5U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5ieXRlcyk7XG4gIHJldHVybiBidG9hKGJpbmFyeVN0cmluZyk7XG59XG5mdW5jdGlvbiBiYXNlNjR1cmxUb0J5dGVzKGJhc2U2NCkge1xuICByZXR1cm4gYmFzZTY0VG9CeXRlcyhiYXNlNjQucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikpO1xufVxuZnVuY3Rpb24gYnl0ZXNUb0Jhc2U2NHVybChieXRlcykge1xuICByZXR1cm4gYnl0ZXNUb0Jhc2U2NChieXRlcykucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0rJC8sIFwiXCIpO1xufVxuXG4vLyBzcmMvaGVscGVycy50c1xuaW1wb3J0IHsgTmV0d29yaywgTmV0d29ya1RvQ2hhaW5JZCB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIGNoYWluSWRUb05ldHdvcmsoY2hhaW5JZCkge1xuICBzd2l0Y2ggKGNoYWluSWQpIHtcbiAgICBjYXNlIE5ldHdvcmtUb0NoYWluSWQubWFpbm5ldDpcbiAgICAgIHJldHVybiBOZXR3b3JrLk1BSU5ORVQ7XG4gICAgY2FzZSBOZXR3b3JrVG9DaGFpbklkLnRlc3RuZXQ6XG4gICAgICByZXR1cm4gTmV0d29yay5URVNUTkVUO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gTmV0d29yay5ERVZORVQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkTmV0d29yayhuZXR3b3JrKSB7XG4gIHJldHVybiBbTmV0d29yay5NQUlOTkVULCBOZXR3b3JrLlRFU1RORVQsIE5ldHdvcmsuREVWTkVUXS5pbmNsdWRlcyhuZXR3b3JrKTtcbn1cblxuLy8gc3JjL2ZlYXR1cmVzL2Nvbm5lY3QvcmVxdWVzdC50c1xuaW1wb3J0IHsgRWQyNTUxOVByaXZhdGVLZXkgfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5cbi8vIHNyYy9XYWxsZXRSZXF1ZXN0LnRzXG5pbXBvcnQgeyBEZXNlcmlhbGl6ZXIgYXMgRGVzZXJpYWxpemVyOSwgU2VyaWFsaXplciBhcyBTZXJpYWxpemVyOSB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcblxuLy8gc3JjL3NoYXJlZC9BY2NvdW50QXV0aGVudGljYXRvcklucHV0LnRzXG5pbXBvcnQgeyBBY2NvdW50QWRkcmVzcywgQWNjb3VudEF1dGhlbnRpY2F0b3IgfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5mdW5jdGlvbiBzZXJpYWxpemVBY2NvdW50QXV0aGVudGljYXRvcklucHV0KHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLmFkZHJlc3MpO1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZS5hdXRoZW50aWNhdG9yKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplQWNjb3VudEF1dGhlbnRpY2F0b3JJbnB1dChkZXNlcmlhbGl6ZXIpIHtcbiAgY29uc3QgYWRkcmVzcyA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShBY2NvdW50QWRkcmVzcyk7XG4gIGNvbnN0IGF1dGhlbnRpY2F0b3IgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoQWNjb3VudEF1dGhlbnRpY2F0b3IpO1xuICByZXR1cm4geyBhZGRyZXNzLCBhdXRoZW50aWNhdG9yIH07XG59XG5cbi8vIHNyYy9zaGFyZWQvQWNjb3VudEluZm8udHNcbmltcG9ydCB7IEFjY291bnRBZGRyZXNzIGFzIEFjY291bnRBZGRyZXNzMiB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcblxuLy8gc3JjL3NoYXJlZC9QdWJsaWNLZXkudHNcbmltcG9ydCB7XG4gIEFueVB1YmxpY0tleSxcbiAgRWQyNTUxOVB1YmxpY0tleSxcbiAgTXVsdGlFZDI1NTE5UHVibGljS2V5LFxuICBNdWx0aUtleSxcbiAgU2lnbmluZ1NjaGVtZVxufSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5mdW5jdGlvbiBzZXJpYWxpemVQdWJsaWNLZXkoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRWQyNTUxOVB1YmxpY0tleSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KFNpZ25pbmdTY2hlbWUuRWQyNTUxOSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBNdWx0aUVkMjU1MTlQdWJsaWNLZXkpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChTaWduaW5nU2NoZW1lLk11bHRpRWQyNTUxOSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbnlQdWJsaWNLZXkpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChTaWduaW5nU2NoZW1lLlNpbmdsZUtleSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBNdWx0aUtleSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KFNpZ25pbmdTY2hlbWUuTXVsdGlLZXkpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcHVibGljIGtleSB0eXBlXCIpO1xuICB9XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplUHVibGljS2V5KGRlc2VyaWFsaXplcikge1xuICBjb25zdCBzaWduaW5nU2NoZW1lID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gIHN3aXRjaCAoc2lnbmluZ1NjaGVtZSkge1xuICAgIGNhc2UgU2lnbmluZ1NjaGVtZS5FZDI1NTE5OlxuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShFZDI1NTE5UHVibGljS2V5KTtcbiAgICBjYXNlIFNpZ25pbmdTY2hlbWUuTXVsdGlFZDI1NTE5OlxuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShNdWx0aUVkMjU1MTlQdWJsaWNLZXkpO1xuICAgIGNhc2UgU2lnbmluZ1NjaGVtZS5TaW5nbGVLZXk6XG4gICAgICByZXR1cm4gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKEFueVB1YmxpY0tleSk7XG4gICAgY2FzZSBTaWduaW5nU2NoZW1lLk11bHRpS2V5OlxuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShNdWx0aUtleSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzaWduaW5nIHNjaGVtZTogJHtzaWduaW5nU2NoZW1lfWApO1xuICB9XG59XG5cbi8vIHNyYy9zaGFyZWQvQWNjb3VudEluZm8udHNcbmZ1bmN0aW9uIHNlcmlhbGl6ZUFjY291bnRJbmZvKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLmFkZHJlc3MpO1xuICBzZXJpYWxpemVQdWJsaWNLZXkoc2VyaWFsaXplciwgdmFsdWUucHVibGljS2V5KTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUubmFtZSA/PyBcIlwiKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplQWNjb3VudEluZm8oZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IGFkZHJlc3MgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoQWNjb3VudEFkZHJlc3MyKTtcbiAgY29uc3QgcHVibGljS2V5ID0gZGVzZXJpYWxpemVQdWJsaWNLZXkoZGVzZXJpYWxpemVyKTtcbiAgY29uc3QgbmFtZSA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpO1xuICByZXR1cm4ge1xuICAgIGFkZHJlc3MsXG4gICAgcHVibGljS2V5LFxuICAgIC4uLm5hbWUubGVuZ3RoID4gMCA/IHsgbmFtZSB9IDogdm9pZCAwXG4gIH07XG59XG5cbi8vIHNyYy9zaGFyZWQvQWNjb3VudElucHV0LnRzXG5pbXBvcnQgeyBBY2NvdW50QWRkcmVzcyBhcyBBY2NvdW50QWRkcmVzczMgfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5mdW5jdGlvbiBzZXJpYWxpemVBY2NvdW50SW5wdXQoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgc2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUuYWRkcmVzcyk7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbCh2YWx1ZS5wdWJsaWNLZXkgIT09IHZvaWQgMCk7XG4gIGlmICh2YWx1ZS5wdWJsaWNLZXkpIHtcbiAgICBzZXJpYWxpemVQdWJsaWNLZXkoc2VyaWFsaXplciwgdmFsdWUucHVibGljS2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVBY2NvdW50SW5wdXQoZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IGFkZHJlc3MgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoQWNjb3VudEFkZHJlc3MzKTtcbiAgY29uc3QgaGFzUHVibGljS2V5ID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICBjb25zdCBwdWJsaWNLZXkgPSBoYXNQdWJsaWNLZXkgPyBkZXNlcmlhbGl6ZVB1YmxpY0tleShkZXNlcmlhbGl6ZXIpIDogdm9pZCAwO1xuICByZXR1cm4geyBhZGRyZXNzLCBwdWJsaWNLZXkgfTtcbn1cblxuLy8gc3JjL3NoYXJlZC9EYXBwSW5mby50c1xuZnVuY3Rpb24gc2VyaWFsaXplRGFwcEluZm8oc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUuZG9tYWluKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUubmFtZSk7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbCh2YWx1ZS5pbWFnZVVSSSAhPT0gdm9pZCAwKTtcbiAgaWYgKHZhbHVlLmltYWdlVVJJICE9PSB2b2lkIDApIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cih2YWx1ZS5pbWFnZVVSSSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRGFwcEluZm8oZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IGRvbWFpbiA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpO1xuICBjb25zdCBuYW1lID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCk7XG4gIGNvbnN0IGhhc0ltYWdlVXJpID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICBjb25zdCBpbWFnZVVSSSA9IGhhc0ltYWdlVXJpID8gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCkgOiB2b2lkIDA7XG4gIHJldHVybiB7IGRvbWFpbiwgaW1hZ2VVUkksIG5hbWUgfTtcbn1cblxuLy8gc3JjL3NoYXJlZC9FbnRyeUZ1bmN0aW9uQXJndW1lbnQudHNcbmltcG9ydCB7XG4gIEFjY291bnRBZGRyZXNzIGFzIEFjY291bnRBZGRyZXNzNCxcbiAgRml4ZWRCeXRlc1xufSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG52YXIgRW50cnlGdW5jdGlvbkFyZ3VtZW50VmFyaWFudCA9IC8qIEBfX1BVUkVfXyAqLyAoKEVudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyKSA9PiB7XG4gIEVudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW0VudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW1wiVW5kZWZpbmVkXCJdID0gMF0gPSBcIlVuZGVmaW5lZFwiO1xuICBFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltcIkFycmF5XCJdID0gMV0gPSBcIkFycmF5XCI7XG4gIEVudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW0VudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW1wiU3RyaW5nXCJdID0gMl0gPSBcIlN0cmluZ1wiO1xuICBFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltcIlVpbnQ4QXJyYXlcIl0gPSAzXSA9IFwiVWludDhBcnJheVwiO1xuICBFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50MltcIkFjY291bnRBZGRyZXNzXCJdID0gNF0gPSBcIkFjY291bnRBZGRyZXNzXCI7XG4gIEVudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW0VudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQyW1wiRml4ZWRCeXRlc1wiXSA9IDVdID0gXCJGaXhlZEJ5dGVzXCI7XG4gIHJldHVybiBFbnRyeUZ1bmN0aW9uQXJndW1lbnRWYXJpYW50Mjtcbn0pKEVudHJ5RnVuY3Rpb25Bcmd1bWVudFZhcmlhbnQgfHwge30pO1xuZnVuY3Rpb24gc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50KHNlcmlhbGl6ZXIsIGFyZ3VtZW50KSB7XG4gIGlmIChhcmd1bWVudCA9PT0gdm9pZCAwIHx8IGFyZ3VtZW50ID09PSBudWxsKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgoMCAvKiBVbmRlZmluZWQgKi8pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudCkpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOCgxIC8qIEFycmF5ICovKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChhcmd1bWVudC5sZW5ndGgpO1xuICAgIGZvciAoY29uc3Qgc3ViQXJndW1lbnQgb2YgYXJndW1lbnQpIHtcbiAgICAgIHNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25Bcmd1bWVudChzZXJpYWxpemVyLCBzdWJBcmd1bWVudCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYXJndW1lbnQgPT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gXCJiaWdpbnRcIikge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDIgLyogU3RyaW5nICovKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cihhcmd1bWVudC50b1N0cmluZygpKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDMgLyogVWludDhBcnJheSAqLyk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVCeXRlcyhhcmd1bWVudCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgoMyAvKiBVaW50OEFycmF5ICovKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJ5dGVzKG5ldyBVaW50OEFycmF5KGFyZ3VtZW50KSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChcInZhbHVlc1wiIGluIGFyZ3VtZW50KSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgoMSAvKiBBcnJheSAqLyk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgoYXJndW1lbnQudmFsdWVzLmxlbmd0aCk7XG4gICAgZm9yIChjb25zdCBzdWJBcmd1bWVudCBvZiBhcmd1bWVudC52YWx1ZXMpIHtcbiAgICAgIHNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25Bcmd1bWVudChzZXJpYWxpemVyLCBzdWJBcmd1bWVudCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAoXCJkYXRhXCIgaW4gYXJndW1lbnQpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOCg0IC8qIEFjY291bnRBZGRyZXNzICovKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZShhcmd1bWVudCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhcmd1bWVudC52YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgoMCAvKiBVbmRlZmluZWQgKi8pO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKGFyZ3VtZW50KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFyZ3VtZW50LnZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDUgLyogRml4ZWRCeXRlcyAqLyk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVCeXRlcyhhcmd1bWVudC52YWx1ZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDIgLyogU3RyaW5nICovKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIoYXJndW1lbnQudmFsdWUudG9TdHJpbmcoKSk7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25Bcmd1bWVudChkZXNlcmlhbGl6ZXIpIHtcbiAgY29uc3QgdmFyaWFudCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlIDAgLyogVW5kZWZpbmVkICovOiB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjYXNlIDEgLyogQXJyYXkgKi86IHtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICAgICAgY29uc3QgYXJncyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBhcmd1bWVudCA9IGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50KGRlc2VyaWFsaXplcik7XG4gICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJncztcbiAgICB9XG4gICAgY2FzZSAzIC8qIFVpbnQ4QXJyYXkgKi86IHtcbiAgICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpO1xuICAgIH1cbiAgICBjYXNlIDQgLyogQWNjb3VudEFkZHJlc3MgKi86IHtcbiAgICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoQWNjb3VudEFkZHJlc3M0KTtcbiAgICB9XG4gICAgY2FzZSAyIC8qIFN0cmluZyAqLzoge1xuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpO1xuICAgIH1cbiAgICBjYXNlIDUgLyogRml4ZWRCeXRlcyAqLzoge1xuICAgICAgY29uc3QgYnl0ZXMgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpO1xuICAgICAgcmV0dXJuIG5ldyBGaXhlZEJ5dGVzKGJ5dGVzKTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCB2YXJpYW50XCIpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvc2hhcmVkL1NpZ25hdHVyZS50c1xuaW1wb3J0IHtcbiAgQW55U2lnbmF0dXJlLFxuICBFZDI1NTE5U2lnbmF0dXJlLFxuICBNdWx0aUVkMjU1MTlTaWduYXR1cmUsXG4gIFNpZ25pbmdTY2hlbWUgYXMgU2lnbmluZ1NjaGVtZTJcbn0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xuZnVuY3Rpb24gc2VyaWFsaXplU2lnbmF0dXJlKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVkMjU1MTlTaWduYXR1cmUpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChTaWduaW5nU2NoZW1lMi5FZDI1NTE5KTtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE11bHRpRWQyNTUxOVNpZ25hdHVyZSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KFNpZ25pbmdTY2hlbWUyLk11bHRpRWQyNTUxOSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbnlTaWduYXR1cmUpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChTaWduaW5nU2NoZW1lMi5TaW5nbGVLZXkpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgc2lnbmF0dXJlIHR5cGVcIik7XG4gIH1cbiAgc2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVTaWduYXR1cmUoZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IHNpZ25pbmdTY2hlbWUgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVVbGViMTI4QXNVMzIoKTtcbiAgc3dpdGNoIChzaWduaW5nU2NoZW1lKSB7XG4gICAgY2FzZSBTaWduaW5nU2NoZW1lMi5FZDI1NTE5OlxuICAgICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShFZDI1NTE5U2lnbmF0dXJlKTtcbiAgICBjYXNlIFNpZ25pbmdTY2hlbWUyLk11bHRpRWQyNTUxOTpcbiAgICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoTXVsdGlFZDI1NTE5U2lnbmF0dXJlKTtcbiAgICBjYXNlIFNpZ25pbmdTY2hlbWUyLlNpbmdsZUtleTpcbiAgICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoQW55U2lnbmF0dXJlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNpZ25pbmcgc2NoZW1lOiAke3NpZ25pbmdTY2hlbWV9YCk7XG4gIH1cbn1cblxuLy8gc3JjL3NoYXJlZC9UcmFuc2FjdGlvblBheWxvYWRJbnB1dC50c1xuaW1wb3J0IHtcbiAgQWNjb3VudEFkZHJlc3MgYXMgQWNjb3VudEFkZHJlc3M1LFxuICBkZXNlcmlhbGl6ZUZyb21TY3JpcHRBcmd1bWVudCxcbiAgSGV4LFxuICBwYXJzZVR5cGVUYWcsXG4gIFR5cGVUYWdcbn0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xudmFyIFRyYW5zYWN0aW9uUGF5bG9hZElucHV0VmFyaWFudCA9IC8qIEBfX1BVUkVfXyAqLyAoKFRyYW5zYWN0aW9uUGF5bG9hZElucHV0VmFyaWFudDIpID0+IHtcbiAgVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXRWYXJpYW50MltUcmFuc2FjdGlvblBheWxvYWRJbnB1dFZhcmlhbnQyW1wiRW50cnlGdW5jdGlvblwiXSA9IDBdID0gXCJFbnRyeUZ1bmN0aW9uXCI7XG4gIFRyYW5zYWN0aW9uUGF5bG9hZElucHV0VmFyaWFudDJbVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXRWYXJpYW50MltcIlNjcmlwdFwiXSA9IDFdID0gXCJTY3JpcHRcIjtcbiAgVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXRWYXJpYW50MltUcmFuc2FjdGlvblBheWxvYWRJbnB1dFZhcmlhbnQyW1wiTXVsdGlzaWdcIl0gPSAyXSA9IFwiTXVsdGlzaWdcIjtcbiAgcmV0dXJuIFRyYW5zYWN0aW9uUGF5bG9hZElucHV0VmFyaWFudDI7XG59KShUcmFuc2FjdGlvblBheWxvYWRJbnB1dFZhcmlhbnQgfHwge30pO1xuZnVuY3Rpb24gc2VyaWFsaXplVHlwZUFyZ3VtZW50cyhzZXJpYWxpemVyLCB0eXBlQXJndW1lbnRzKSB7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KHR5cGVBcmd1bWVudHMubGVuZ3RoKTtcbiAgZm9yIChjb25zdCB0eXBlQXJndW1lbnQgb2YgdHlwZUFyZ3VtZW50cykge1xuICAgIGNvbnN0IHR5cGVUYWcgPSB0eXBlb2YgdHlwZUFyZ3VtZW50ID09PSBcInN0cmluZ1wiID8gcGFyc2VUeXBlVGFnKHR5cGVBcmd1bWVudCwgeyBhbGxvd0dlbmVyaWNzOiB0cnVlIH0pIDogdHlwZUFyZ3VtZW50O1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHR5cGVUYWcpO1xuICB9XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVR5cGVBcmd1bWVudHMoZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IHR5cGVBcmd1bWVudHMgPSBbXTtcbiAgY29uc3QgdHlwZUFyZ3VtZW50c0xlbmd0aCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVBcmd1bWVudHNMZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHR5cGVUYWcgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoVHlwZVRhZyk7XG4gICAgdHlwZUFyZ3VtZW50cy5wdXNoKHR5cGVUYWcpO1xuICB9XG4gIHJldHVybiB0eXBlQXJndW1lbnRzO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50cyhzZXJpYWxpemVyLCBmdW5jdGlvbkFyZ3VtZW50cykge1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOChmdW5jdGlvbkFyZ3VtZW50cy5sZW5ndGgpO1xuICBmb3IgKGNvbnN0IGZ1bmN0aW9uQXJndW1lbnQgb2YgZnVuY3Rpb25Bcmd1bWVudHMpIHtcbiAgICBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJndW1lbnQoc2VyaWFsaXplciwgZnVuY3Rpb25Bcmd1bWVudCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50cyhkZXNlcmlhbGl6ZXIpIHtcbiAgY29uc3QgZnVuY3Rpb25Bcmd1bWVudHNMZW5ndGggPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVVbGViMTI4QXNVMzIoKTtcbiAgY29uc3QgZnVuY3Rpb25Bcmd1bWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jdGlvbkFyZ3VtZW50c0xlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZnVuY3Rpb25Bcmd1bWVudCA9IGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50KGRlc2VyaWFsaXplcik7XG4gICAgZnVuY3Rpb25Bcmd1bWVudHMucHVzaChmdW5jdGlvbkFyZ3VtZW50KTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb25Bcmd1bWVudHM7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVUcmFuc2FjdGlvblBheWxvYWRJbnB1dChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICBpZiAoXCJtdWx0aXNpZ0FkZHJlc3NcIiBpbiB2YWx1ZSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDIgLyogTXVsdGlzaWcgKi8pO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplU3RyKHZhbHVlLmZ1bmN0aW9uKTtcbiAgICBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJndW1lbnRzKHNlcmlhbGl6ZXIsIHZhbHVlLmZ1bmN0aW9uQXJndW1lbnRzKTtcbiAgICBzZXJpYWxpemVUeXBlQXJndW1lbnRzKHNlcmlhbGl6ZXIsIHZhbHVlLnR5cGVBcmd1bWVudHMgPz8gW10pO1xuICAgIGNvbnN0IG11bHRpc2lnQWRkcmVzcyA9IEFjY291bnRBZGRyZXNzNS5mcm9tKHZhbHVlLm11bHRpc2lnQWRkcmVzcyk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemUobXVsdGlzaWdBZGRyZXNzKTtcbiAgfSBlbHNlIGlmIChcImZ1bmN0aW9uXCIgaW4gdmFsdWUpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOCgwIC8qIEVudHJ5RnVuY3Rpb24gKi8pO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplU3RyKHZhbHVlLmZ1bmN0aW9uKTtcbiAgICBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJndW1lbnRzKHNlcmlhbGl6ZXIsIHZhbHVlLmZ1bmN0aW9uQXJndW1lbnRzKTtcbiAgICBzZXJpYWxpemVUeXBlQXJndW1lbnRzKHNlcmlhbGl6ZXIsIHZhbHVlLnR5cGVBcmd1bWVudHMgPz8gW10pO1xuICB9IGVsc2Uge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KDEgLyogU2NyaXB0ICovKTtcbiAgICBjb25zdCBieXRlY29kZSA9IEhleC5mcm9tSGV4SW5wdXQodmFsdWUuYnl0ZWNvZGUpO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQnl0ZXMoYnl0ZWNvZGUudG9VaW50OEFycmF5KCkpO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KHZhbHVlLmZ1bmN0aW9uQXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yIChjb25zdCBhcmd1bWVudCBvZiB2YWx1ZS5mdW5jdGlvbkFyZ3VtZW50cykge1xuICAgICAgYXJndW1lbnQuc2VyaWFsaXplRm9yU2NyaXB0RnVuY3Rpb24oc2VyaWFsaXplcik7XG4gICAgfVxuICAgIHNlcmlhbGl6ZVR5cGVBcmd1bWVudHMoc2VyaWFsaXplciwgdmFsdWUudHlwZUFyZ3VtZW50cyA/PyBbXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXQoZGVzZXJpYWxpemVyKSB7XG4gIGNvbnN0IHZhcmlhbnQgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVVbGViMTI4QXNVMzIoKTtcbiAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgY2FzZSAyIC8qIE11bHRpc2lnICovOiB7XG4gICAgICBjb25zdCBmdW5jdGlvbklkID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCk7XG4gICAgICBjb25zdCBmdW5jdGlvbkFyZ3VtZW50cyA9IGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50cyhkZXNlcmlhbGl6ZXIpO1xuICAgICAgY29uc3QgdHlwZUFyZ3VtZW50cyA9IGRlc2VyaWFsaXplVHlwZUFyZ3VtZW50cyhkZXNlcmlhbGl6ZXIpO1xuICAgICAgY29uc3QgbXVsdGlzaWdBZGRyZXNzID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKEFjY291bnRBZGRyZXNzNSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmdW5jdGlvbjogZnVuY3Rpb25JZCxcbiAgICAgICAgZnVuY3Rpb25Bcmd1bWVudHMsXG4gICAgICAgIG11bHRpc2lnQWRkcmVzcyxcbiAgICAgICAgdHlwZUFyZ3VtZW50c1xuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSAwIC8qIEVudHJ5RnVuY3Rpb24gKi86IHtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uSWQgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVTdHIoKTtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQXJndW1lbnRzID0gZGVzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJndW1lbnRzKGRlc2VyaWFsaXplcik7XG4gICAgICBjb25zdCB0eXBlQXJndW1lbnRzID0gZGVzZXJpYWxpemVUeXBlQXJndW1lbnRzKGRlc2VyaWFsaXplcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmdW5jdGlvbjogZnVuY3Rpb25JZCxcbiAgICAgICAgZnVuY3Rpb25Bcmd1bWVudHMsXG4gICAgICAgIHR5cGVBcmd1bWVudHNcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgMSAvKiBTY3JpcHQgKi86IHtcbiAgICAgIGNvbnN0IGJ5dGVjb2RlID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQnl0ZXMoKTtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQXJndW1lbnRzTGVuZ3RoID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gICAgICBjb25zdCBmdW5jdGlvbkFyZ3VtZW50cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jdGlvbkFyZ3VtZW50c0xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGFyZ3VtZW50ID0gZGVzZXJpYWxpemVGcm9tU2NyaXB0QXJndW1lbnQoZGVzZXJpYWxpemVyKTtcbiAgICAgICAgZnVuY3Rpb25Bcmd1bWVudHMucHVzaChhcmd1bWVudCk7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlQXJndW1lbnRzID0gZGVzZXJpYWxpemVUeXBlQXJndW1lbnRzKGRlc2VyaWFsaXplcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBieXRlY29kZSxcbiAgICAgICAgZnVuY3Rpb25Bcmd1bWVudHMsXG4gICAgICAgIHR5cGVBcmd1bWVudHNcbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgdmFyaWFudFwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL1dhbGxldFJlcXVlc3QudHNcbmZ1bmN0aW9uIHNlcmlhbGl6ZVdhbGxldFJlcXVlc3Qoe1xuICBkYXBwSW5mbyxcbiAgbmFtZSxcbiAgdmVyc2lvblxufSkge1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFNlcmlhbGl6ZXI5KCk7XG4gIHNlcmlhbGl6ZURhcHBJbmZvKHNlcmlhbGl6ZXIsIGRhcHBJbmZvKTtcbiAgY29uc3QgZGF0YSA9IHNlcmlhbGl6ZXIudG9VaW50OEFycmF5KCk7XG4gIHJldHVybiB7IGRhdGEsIG5hbWUsIHZlcnNpb24gfTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplV2FsbGV0UmVxdWVzdCh7XG4gIGRhdGEsXG4gIG5hbWUsXG4gIHZlcnNpb25cbn0pIHtcbiAgY29uc3QgZGVzZXJpYWxpemVyID0gbmV3IERlc2VyaWFsaXplcjkoZGF0YSk7XG4gIGNvbnN0IGRhcHBJbmZvID0gZGVzZXJpYWxpemVEYXBwSW5mbyhkZXNlcmlhbGl6ZXIpO1xuICByZXR1cm4geyBkYXBwSW5mbywgbmFtZSwgdmVyc2lvbiB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzKHsgYXJncywgZGFwcEluZm8sIG5hbWUsIHZlcnNpb24gfSwgc2VyaWFsaXplQXJnc0ZuKSB7XG4gIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgU2VyaWFsaXplcjkoKTtcbiAgc2VyaWFsaXplRGFwcEluZm8oc2VyaWFsaXplciwgZGFwcEluZm8pO1xuICBzZXJpYWxpemVBcmdzRm4oc2VyaWFsaXplciwgYXJncyk7XG4gIGNvbnN0IGRhdGEgPSBzZXJpYWxpemVyLnRvVWludDhBcnJheSgpO1xuICByZXR1cm4geyBkYXRhLCBuYW1lLCB2ZXJzaW9uIH07XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVdhbGxldFJlcXVlc3RXaXRoQXJncyh7IGRhdGEsIG5hbWUsIHZlcnNpb24gfSwgZGVzZXJpYWxpemVBcmdzRm4pIHtcbiAgY29uc3QgZGVzZXJpYWxpemVyID0gbmV3IERlc2VyaWFsaXplcjkoZGF0YSk7XG4gIGNvbnN0IGRhcHBJbmZvID0gZGVzZXJpYWxpemVEYXBwSW5mbyhkZXNlcmlhbGl6ZXIpO1xuICBjb25zdCBhcmdzID0gZGVzZXJpYWxpemVBcmdzRm4oZGVzZXJpYWxpemVyKTtcbiAgcmV0dXJuIHsgYXJncywgZGFwcEluZm8sIG5hbWUsIHZlcnNpb24gfTtcbn1cblxuLy8gc3JjL2ZlYXR1cmVzL2Nvbm5lY3QvcmVxdWVzdC50c1xudmFyIENvbm5lY3RSZXF1ZXN0O1xuKChDb25uZWN0UmVxdWVzdDIpID0+IHtcbiAgQ29ubmVjdFJlcXVlc3QyLm5hbWUgPSBcImNvbm5lY3RcIjtcbiAgQ29ubmVjdFJlcXVlc3QyLnN1cHBvcnRlZFZlcnNpb25zID0gWzEsIDIsIDMsIDRdO1xuICBDb25uZWN0UmVxdWVzdDIuY3VycmVudFZlcnNpb24gPSA0O1xuICBmdW5jdGlvbiBzZXJpYWxpemVBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVPcHRpb25TdHIodmFsdWUuZGFwcElkKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZU9wdGlvblN0cih2YWx1ZS5kYXBwRWQyNTUxOVB1YmxpY0tleUI2NCk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVPcHRpb25TdHIodmFsdWUucHJlZmVycmVkV2FsbGV0TmFtZSk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVCb29sKHZhbHVlLmNsYWltT3B0aW9ucyAhPT0gdm9pZCAwKTtcbiAgICBpZiAodmFsdWUuY2xhaW1PcHRpb25zKSB7XG4gICAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZS5jbGFpbU9wdGlvbnMuc2VjcmV0S2V5KTtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplU3RyKHZhbHVlLmNsYWltT3B0aW9ucy5uZXR3b3JrKTtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplT3B0aW9uU3RyKHZhbHVlLmNsYWltT3B0aW9ucy5hc3NldCk7XG4gICAgICBpZiAoIWlzU3VwcG9ydGVkTmV0d29yayh2YWx1ZS5jbGFpbU9wdGlvbnMubmV0d29yaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBuZXR3b3JrICcke3ZhbHVlLmNsYWltT3B0aW9ucy5uZXR3b3JrfSdgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgQ29ubmVjdFJlcXVlc3QyLnNlcmlhbGl6ZUFyZ3MgPSBzZXJpYWxpemVBcmdzO1xuICBmdW5jdGlvbiBkZXNlcmlhbGl6ZUFyZ3MoZGVzZXJpYWxpemVyLCB2ZXJzaW9uKSB7XG4gICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgZGFwcElkID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplT3B0aW9uKFwic3RyaW5nXCIpO1xuICAgIGNvbnN0IGRhcHBFZDI1NTE5UHVibGljS2V5QjY0ID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplT3B0aW9uKFwic3RyaW5nXCIpO1xuICAgIGNvbnN0IHByZWZlcnJlZFdhbGxldE5hbWUgPSB2ZXJzaW9uID49IDMgPyBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVPcHRpb24oXCJzdHJpbmdcIikgOiB2b2lkIDA7XG4gICAgY29uc3QgaGFzQ2xhaW1PcHRpb25zID0gdmVyc2lvbiA+PSA0ID8gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpIDogZmFsc2U7XG4gICAgbGV0IGNsYWltT3B0aW9ucztcbiAgICBpZiAoaGFzQ2xhaW1PcHRpb25zKSB7XG4gICAgICBjb25zdCBzZWNyZXRLZXkgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoRWQyNTUxOVByaXZhdGVLZXkpO1xuICAgICAgY29uc3QgbmV0d29yayA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpO1xuICAgICAgY29uc3QgYXNzZXQgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVPcHRpb24oXCJzdHJpbmdcIik7XG4gICAgICBpZiAoIWlzU3VwcG9ydGVkTmV0d29yayhuZXR3b3JrKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG5ldHdvcmsgJyR7bmV0d29ya30nYCk7XG4gICAgICB9XG4gICAgICBjbGFpbU9wdGlvbnMgPSB7IGFzc2V0LCBuZXR3b3JrLCBzZWNyZXRLZXkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgY2xhaW1PcHRpb25zLCBkYXBwRWQyNTUxOVB1YmxpY0tleUI2NCwgZGFwcElkLCBwcmVmZXJyZWRXYWxsZXROYW1lIH07XG4gIH1cbiAgQ29ubmVjdFJlcXVlc3QyLmRlc2VyaWFsaXplQXJncyA9IGRlc2VyaWFsaXplQXJncztcbiAgZnVuY3Rpb24gc2VyaWFsaXplKGRhcHBJbmZvLCBhcmdzID0ge30pIHtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzKHsgYXJncywgZGFwcEluZm8sIG5hbWU6IENvbm5lY3RSZXF1ZXN0Mi5uYW1lLCB2ZXJzaW9uOiBDb25uZWN0UmVxdWVzdDIuY3VycmVudFZlcnNpb24gfSwgc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgQ29ubmVjdFJlcXVlc3QyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUocmVxdWVzdCkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVdhbGxldFJlcXVlc3RXaXRoQXJncyhyZXF1ZXN0LCAoZCkgPT4gZGVzZXJpYWxpemVBcmdzKGQsIHJlcXVlc3QudmVyc2lvbikpO1xuICB9XG4gIENvbm5lY3RSZXF1ZXN0Mi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWQocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0Lm5hbWUgPT09IENvbm5lY3RSZXF1ZXN0Mi5uYW1lICYmIENvbm5lY3RSZXF1ZXN0Mi5zdXBwb3J0ZWRWZXJzaW9ucy5pbmNsdWRlcyhyZXF1ZXN0LnZlcnNpb24pO1xuICB9XG4gIENvbm5lY3RSZXF1ZXN0Mi5pc1NlcmlhbGl6ZWQgPSBpc1NlcmlhbGl6ZWQ7XG59KShDb25uZWN0UmVxdWVzdCB8fCAoQ29ubmVjdFJlcXVlc3QgPSB7fSkpO1xuXG4vLyBzcmMvVXNlclJlc3BvbnNlLnRzXG5mdW5jdGlvbiBtYWtlVXNlckFwcHJvdmFsKGFyZ3MpIHtcbiAgcmV0dXJuIHsgYXJncywgc3RhdHVzOiBcImFwcHJvdmVkXCIgfTtcbn1cbmZ1bmN0aW9uIG1ha2VVc2VyUmVzcG9uc2VTZXJpYWxpemVGbihzZXJpYWxpemVBcmdzKSB7XG4gIHJldHVybiAoc2VyaWFsaXplciwgdmFsdWUpID0+IHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2wodmFsdWUuc3RhdHVzID09PSBcImFwcHJvdmVkXCIpO1xuICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgc2VyaWFsaXplQXJncyhzZXJpYWxpemVyLCB2YWx1ZS5hcmdzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBtYWtlVXNlclJlc3BvbnNlRGVzZXJpYWxpemVGbihkZXNlcmlhbGl6ZUFyZ3MpIHtcbiAgcmV0dXJuIChkZXNlcmlhbGl6ZXIpID0+IHtcbiAgICBjb25zdCBpc0FwcHJvdmVkID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIHJldHVybiBpc0FwcHJvdmVkID8geyBhcmdzOiBkZXNlcmlhbGl6ZUFyZ3MoZGVzZXJpYWxpemVyKSwgc3RhdHVzOiBcImFwcHJvdmVkXCIgfSA6IHsgc3RhdHVzOiBcImRpc21pc3NlZFwiIH07XG4gIH07XG59XG5cbi8vIHNyYy9XYWxsZXRSZXNwb25zZS50c1xuaW1wb3J0IHsgRGVzZXJpYWxpemVyIGFzIERlc2VyaWFsaXplcjExLCBTZXJpYWxpemVyIGFzIFNlcmlhbGl6ZXIxMSB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKGFyZ3MsIHNlcmlhbGl6ZUZuKSB7XG4gIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgU2VyaWFsaXplcjExKCk7XG4gIHNlcmlhbGl6ZUZuKHNlcmlhbGl6ZXIsIGFyZ3MpO1xuICBjb25zdCBkYXRhID0gc2VyaWFsaXplci50b1VpbnQ4QXJyYXkoKTtcbiAgcmV0dXJuIHsgZGF0YSB9O1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVXYWxsZXRSZXNwb25zZSh7IGRhdGEgfSwgZGVzZXJpYWxpemVGbikge1xuICBjb25zdCBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyMTEoZGF0YSk7XG4gIGNvbnN0IGFyZ3MgPSBkZXNlcmlhbGl6ZUZuKGRlc2VyaWFsaXplcik7XG4gIHJldHVybiB7IGFyZ3MgfTtcbn1cblxuLy8gc3JjL2ZlYXR1cmVzL2Nvbm5lY3QvcmVzcG9uc2UudHNcbnZhciBDb25uZWN0UmVzcG9uc2U7XG4oKENvbm5lY3RSZXNwb25zZTIpID0+IHtcbiAgQ29ubmVjdFJlc3BvbnNlMi5zdXBwb3J0ZWRWZXJzaW9ucyA9IFsxLCAyXTtcbiAgQ29ubmVjdFJlc3BvbnNlMi5jdXJyZW50VmVyc2lvbiA9IDI7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZUFwcHJvdmFsQXJnc1YxKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplQWNjb3VudEluZm8oc2VyaWFsaXplciwgdmFsdWUuYWNjb3VudCk7XG4gIH1cbiAgZnVuY3Rpb24gc2VyaWFsaXplQXBwcm92YWxBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplQWNjb3VudEluZm8oc2VyaWFsaXplciwgdmFsdWUuYWNjb3VudCk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVPcHRpb25TdHIodmFsdWUucGFpcmluZyAhPT0gdm9pZCAwID8gSlNPTi5zdHJpbmdpZnkodmFsdWUucGFpcmluZykgOiB2b2lkIDApO1xuICB9XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplQXBwcm92YWxBcmdzKGRlc2VyaWFsaXplcikge1xuICAgIGNvbnN0IGFjY291bnQgPSBkZXNlcmlhbGl6ZUFjY291bnRJbmZvKGRlc2VyaWFsaXplcik7XG4gICAgY29uc3Qgc2VyaWFsaXplZFBhaXJpbmcgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVPcHRpb24oXCJzdHJpbmdcIik7XG4gICAgY29uc3QgcGFpcmluZyA9IHNlcmlhbGl6ZWRQYWlyaW5nICE9PSB2b2lkIDAgPyBKU09OLnBhcnNlKHNlcmlhbGl6ZWRQYWlyaW5nKSA6IHZvaWQgMDtcbiAgICByZXR1cm4geyBhY2NvdW50LCBwYWlyaW5nIH07XG4gIH1cbiAgY29uc3Qgc2VyaWFsaXplQXJnc1YxID0gbWFrZVVzZXJSZXNwb25zZVNlcmlhbGl6ZUZuKHNlcmlhbGl6ZUFwcHJvdmFsQXJnc1YxKTtcbiAgY29uc3Qgc2VyaWFsaXplQXJncyA9IG1ha2VVc2VyUmVzcG9uc2VTZXJpYWxpemVGbihzZXJpYWxpemVBcHByb3ZhbEFyZ3MpO1xuICBjb25zdCBkZXNlcmlhbGl6ZUFyZ3MgPSBtYWtlVXNlclJlc3BvbnNlRGVzZXJpYWxpemVGbihkZXNlcmlhbGl6ZUFwcHJvdmFsQXJncyk7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmdzLCB2ZXJzaW9uID0gQ29ubmVjdFJlc3BvbnNlMi5jdXJyZW50VmVyc2lvbikge1xuICAgIHJldHVybiBzZXJpYWxpemVXYWxsZXRSZXNwb25zZShhcmdzLCB2ZXJzaW9uID09PSAxID8gc2VyaWFsaXplQXJnc1YxIDogc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgQ29ubmVjdFJlc3BvbnNlMi5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplKHNlcmlhbGl6ZWRSZXNwb25zZSkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKHNlcmlhbGl6ZWRSZXNwb25zZSwgZGVzZXJpYWxpemVBcmdzKTtcbiAgfVxuICBDb25uZWN0UmVzcG9uc2UyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG59KShDb25uZWN0UmVzcG9uc2UgfHwgKENvbm5lY3RSZXNwb25zZSA9IHt9KSk7XG5cbi8vIHNyYy9mZWF0dXJlcy9kaXNjb25uZWN0L3JlcXVlc3QudHNcbnZhciBEaXNjb25uZWN0UmVxdWVzdDtcbigoRGlzY29ubmVjdFJlcXVlc3QyKSA9PiB7XG4gIERpc2Nvbm5lY3RSZXF1ZXN0Mi5uYW1lID0gXCJkaXNjb25uZWN0XCI7XG4gIERpc2Nvbm5lY3RSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbiA9IDE7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShkYXBwSW5mbykge1xuICAgIHJldHVybiBzZXJpYWxpemVXYWxsZXRSZXF1ZXN0KHsgZGFwcEluZm8sIG5hbWU6IERpc2Nvbm5lY3RSZXF1ZXN0Mi5uYW1lLCB2ZXJzaW9uOiBEaXNjb25uZWN0UmVxdWVzdDIuY3VycmVudFZlcnNpb24gfSk7XG4gIH1cbiAgRGlzY29ubmVjdFJlcXVlc3QyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUocmVxdWVzdCkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVdhbGxldFJlcXVlc3QocmVxdWVzdCk7XG4gIH1cbiAgRGlzY29ubmVjdFJlcXVlc3QyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGlzU2VyaWFsaXplZChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHJlcXVlc3QubmFtZSA9PT0gRGlzY29ubmVjdFJlcXVlc3QyLm5hbWUgJiYgcmVxdWVzdC52ZXJzaW9uID09PSBEaXNjb25uZWN0UmVxdWVzdDIuY3VycmVudFZlcnNpb247XG4gIH1cbiAgRGlzY29ubmVjdFJlcXVlc3QyLmlzU2VyaWFsaXplZCA9IGlzU2VyaWFsaXplZDtcbn0pKERpc2Nvbm5lY3RSZXF1ZXN0IHx8IChEaXNjb25uZWN0UmVxdWVzdCA9IHt9KSk7XG5cbi8vIHNyYy9mZWF0dXJlcy9kaXNjb25uZWN0L3Jlc3BvbnNlLnRzXG52YXIgRGlzY29ubmVjdFJlc3BvbnNlO1xuKChEaXNjb25uZWN0UmVzcG9uc2UyKSA9PiB7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmdzKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKGFyZ3MsICgpID0+IHtcbiAgICB9KTtcbiAgfVxuICBEaXNjb25uZWN0UmVzcG9uc2UyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2Uoc2VyaWFsaXplZFJlc3BvbnNlLCAoKSA9PiAoe30pKTtcbiAgfVxuICBEaXNjb25uZWN0UmVzcG9uc2UyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG59KShEaXNjb25uZWN0UmVzcG9uc2UgfHwgKERpc2Nvbm5lY3RSZXNwb25zZSA9IHt9KSk7XG5cbi8vIHNyYy9zaGFyZWQvQXB0b3NTaWduSW5JbnB1dC50c1xuZnVuY3Rpb24gc2VyaWFsaXplQXB0b3NTaWduSW5JbnB1dChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cihKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVBcHRvc1NpZ25JbklucHV0KGRlc2VyaWFsaXplcikge1xuICByZXR1cm4gSlNPTi5wYXJzZShkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVTdHIoKSk7XG59XG5cbi8vIHNyYy9mZWF0dXJlcy9zaWduSW4vcmVxdWVzdC50c1xudmFyIFNpZ25JblJlcXVlc3Q7XG4oKFNpZ25JblJlcXVlc3QyKSA9PiB7XG4gIFNpZ25JblJlcXVlc3QyLm5hbWUgPSBcInNpZ25JblwiO1xuICBTaWduSW5SZXF1ZXN0Mi5zdXBwb3J0ZWRWZXJzaW9ucyA9IFsxXTtcbiAgU2lnbkluUmVxdWVzdDIuY3VycmVudFZlcnNpb24gPSAxO1xuICBmdW5jdGlvbiBzZXJpYWxpemVBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLm5ldHdvcmsgIT09IHZvaWQgMCAmJiAhaXNTdXBwb3J0ZWROZXR3b3JrKHZhbHVlLm5ldHdvcmspKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG5ldHdvcmsgJyR7dmFsdWUubmV0d29ya30nIGluIFNpZ25JblJlcXVlc3Quc2VyaWFsaXplQXJnc2ApO1xuICAgIH1cbiAgICBzZXJpYWxpemVBcHRvc1NpZ25JbklucHV0KHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cih2YWx1ZS5uZXR3b3JrKTtcbiAgfVxuICBTaWduSW5SZXF1ZXN0Mi5zZXJpYWxpemVBcmdzID0gc2VyaWFsaXplQXJncztcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmdzKGRlc2VyaWFsaXplciwgXykge1xuICAgIHJldHVybiB7IC4uLmRlc2VyaWFsaXplQXB0b3NTaWduSW5JbnB1dChkZXNlcmlhbGl6ZXIpLCBuZXR3b3JrOiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVTdHIoKSB9O1xuICB9XG4gIFNpZ25JblJlcXVlc3QyLmRlc2VyaWFsaXplQXJncyA9IGRlc2VyaWFsaXplQXJncztcbiAgZnVuY3Rpb24gc2VyaWFsaXplKGRhcHBJbmZvLCBhcmdzKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlcXVlc3RXaXRoQXJncyh7IGFyZ3MsIGRhcHBJbmZvLCBuYW1lOiBTaWduSW5SZXF1ZXN0Mi5uYW1lLCB2ZXJzaW9uOiBTaWduSW5SZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbiB9LCBzZXJpYWxpemVBcmdzKTtcbiAgfVxuICBTaWduSW5SZXF1ZXN0Mi5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVXYWxsZXRSZXF1ZXN0V2l0aEFyZ3MocmVxdWVzdCwgKGQpID0+IGRlc2VyaWFsaXplQXJncyhkLCByZXF1ZXN0LnZlcnNpb24pKTtcbiAgfVxuICBTaWduSW5SZXF1ZXN0Mi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWQocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0Lm5hbWUgPT09IFNpZ25JblJlcXVlc3QyLm5hbWUgJiYgU2lnbkluUmVxdWVzdDIuc3VwcG9ydGVkVmVyc2lvbnMuaW5jbHVkZXMocmVxdWVzdC52ZXJzaW9uKTtcbiAgfVxuICBTaWduSW5SZXF1ZXN0Mi5pc1NlcmlhbGl6ZWQgPSBpc1NlcmlhbGl6ZWQ7XG59KShTaWduSW5SZXF1ZXN0IHx8IChTaWduSW5SZXF1ZXN0ID0ge30pKTtcblxuLy8gc3JjL3NoYXJlZC9BcHRvc1NpZ25Jbk91dHB1dC50c1xuaW1wb3J0IHsgQWNjb3VudEluZm8gfSBmcm9tIFwiQGFwdG9zLWxhYnMvd2FsbGV0LXN0YW5kYXJkXCI7XG5mdW5jdGlvbiBzZXJpYWxpemVBcHRvc1NpZ25Jbk91dHB1dChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICBzZXJpYWxpemVBY2NvdW50SW5mbyhzZXJpYWxpemVyLCB2YWx1ZS5hY2NvdW50KTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIoSlNPTi5zdHJpbmdpZnkodmFsdWUuaW5wdXQpKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUucGxhaW5UZXh0KTtcbiAgc2VyaWFsaXplU2lnbmF0dXJlKHNlcmlhbGl6ZXIsIHZhbHVlLnNpZ25hdHVyZSk7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplQnl0ZXModmFsdWUuc2lnbmluZ01lc3NhZ2UpO1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cih2YWx1ZS50eXBlKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplQXB0b3NTaWduSW5PdXRwdXQoZGVzZXJpYWxpemVyKSB7XG4gIHJldHVybiB7XG4gICAgYWNjb3VudDogbmV3IEFjY291bnRJbmZvKGRlc2VyaWFsaXplQWNjb3VudEluZm8oZGVzZXJpYWxpemVyKSksXG4gICAgaW5wdXQ6IEpTT04ucGFyc2UoZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCkpLFxuICAgIHBsYWluVGV4dDogZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCksXG4gICAgc2lnbmF0dXJlOiBkZXNlcmlhbGl6ZVNpZ25hdHVyZShkZXNlcmlhbGl6ZXIpLFxuICAgIHNpZ25pbmdNZXNzYWdlOiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpLFxuICAgIHR5cGU6IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpXG4gIH07XG59XG5cbi8vIHNyYy9mZWF0dXJlcy9zaWduSW4vcmVzcG9uc2UudHNcbnZhciBTaWduSW5SZXNwb25zZTtcbigoU2lnbkluUmVzcG9uc2UyKSA9PiB7XG4gIFNpZ25JblJlc3BvbnNlMi5zdXBwb3J0ZWRWZXJzaW9ucyA9IFsxXTtcbiAgU2lnbkluUmVzcG9uc2UyLmN1cnJlbnRWZXJzaW9uID0gMTtcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXBwcm92YWxBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplQXB0b3NTaWduSW5PdXRwdXQoc2VyaWFsaXplciwgdmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplQXBwcm92YWxBcmdzKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZUFwdG9zU2lnbkluT3V0cHV0KGRlc2VyaWFsaXplcik7XG4gIH1cbiAgY29uc3Qgc2VyaWFsaXplQXJncyA9IG1ha2VVc2VyUmVzcG9uc2VTZXJpYWxpemVGbihzZXJpYWxpemVBcHByb3ZhbEFyZ3MpO1xuICBjb25zdCBkZXNlcmlhbGl6ZUFyZ3MgPSBtYWtlVXNlclJlc3BvbnNlRGVzZXJpYWxpemVGbihkZXNlcmlhbGl6ZUFwcHJvdmFsQXJncyk7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmdzLCBfID0gU2lnbkluUmVzcG9uc2UyLmN1cnJlbnRWZXJzaW9uKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKGFyZ3MsIHNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25JblJlc3BvbnNlMi5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplKHNlcmlhbGl6ZWRSZXNwb25zZSkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKHNlcmlhbGl6ZWRSZXNwb25zZSwgZGVzZXJpYWxpemVBcmdzKTtcbiAgfVxuICBTaWduSW5SZXNwb25zZTIuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbn0pKFNpZ25JblJlc3BvbnNlIHx8IChTaWduSW5SZXNwb25zZSA9IHt9KSk7XG5cbi8vIHNyYy9mZWF0dXJlcy9nZXRDb25uZWN0ZWRBY2NvdW50cy9yZXF1ZXN0LnRzXG52YXIgR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0O1xuKChHZXRDb25uZWN0ZWRBY2NvdW50c1JlcXVlc3QyKSA9PiB7XG4gIEdldENvbm5lY3RlZEFjY291bnRzUmVxdWVzdDIubmFtZSA9IFwiZ2V0Q29ubmVjdGVkQWNjb3VudHNcIjtcbiAgR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbiA9IDE7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShkYXBwSW5mbykge1xuICAgIHJldHVybiBzZXJpYWxpemVXYWxsZXRSZXF1ZXN0KHsgZGFwcEluZm8sIG5hbWU6IEdldENvbm5lY3RlZEFjY291bnRzUmVxdWVzdDIubmFtZSwgdmVyc2lvbjogR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbiB9KTtcbiAgfVxuICBHZXRDb25uZWN0ZWRBY2NvdW50c1JlcXVlc3QyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUocmVxdWVzdCkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVdhbGxldFJlcXVlc3QocmVxdWVzdCk7XG4gIH1cbiAgR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0Mi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWQocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0Lm5hbWUgPT09IEdldENvbm5lY3RlZEFjY291bnRzUmVxdWVzdDIubmFtZSAmJiByZXF1ZXN0LnZlcnNpb24gPT09IEdldENvbm5lY3RlZEFjY291bnRzUmVxdWVzdDIuY3VycmVudFZlcnNpb247XG4gIH1cbiAgR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0Mi5pc1NlcmlhbGl6ZWQgPSBpc1NlcmlhbGl6ZWQ7XG59KShHZXRDb25uZWN0ZWRBY2NvdW50c1JlcXVlc3QgfHwgKEdldENvbm5lY3RlZEFjY291bnRzUmVxdWVzdCA9IHt9KSk7XG5cbi8vIHNyYy9mZWF0dXJlcy9nZXRDb25uZWN0ZWRBY2NvdW50cy9yZXNwb25zZS50c1xudmFyIEdldENvbm5lY3RlZEFjY291bnRzUmVzcG9uc2U7XG4oKEdldENvbm5lY3RlZEFjY291bnRzUmVzcG9uc2UyKSA9PiB7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZUFyZ3Moc2VyaWFsaXplciwgYXJncykge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KGFyZ3MubGVuZ3RoKTtcbiAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgYXJncykge1xuICAgICAgc2VyaWFsaXplQWNjb3VudEluZm8oc2VyaWFsaXplciwgYWNjb3VudCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplQXJncyhkZXNlcmlhbGl6ZXIpIHtcbiAgICBjb25zdCBsZW5ndGggPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVVbGViMTI4QXNVMzIoKTtcbiAgICBjb25zdCBhY2NvdW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGFjY291bnRzLnB1c2goZGVzZXJpYWxpemVBY2NvdW50SW5mbyhkZXNlcmlhbGl6ZXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY291bnRzO1xuICB9XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmdzKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKGFyZ3MsIHNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIEdldENvbm5lY3RlZEFjY291bnRzUmVzcG9uc2UyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2Uoc2VyaWFsaXplZFJlc3BvbnNlLCBkZXNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIEdldENvbm5lY3RlZEFjY291bnRzUmVzcG9uc2UyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG59KShHZXRDb25uZWN0ZWRBY2NvdW50c1Jlc3BvbnNlIHx8IChHZXRDb25uZWN0ZWRBY2NvdW50c1Jlc3BvbnNlID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL2lzQ29ubmVjdGVkL3JlcXVlc3QudHNcbnZhciBJc0Nvbm5lY3RlZFJlcXVlc3Q7XG4oKElzQ29ubmVjdGVkUmVxdWVzdDIpID0+IHtcbiAgSXNDb25uZWN0ZWRSZXF1ZXN0Mi5uYW1lID0gXCJpc0Nvbm5lY3RlZFwiO1xuICBJc0Nvbm5lY3RlZFJlcXVlc3QyLmN1cnJlbnRWZXJzaW9uID0gMTtcbiAgZnVuY3Rpb24gc2VyaWFsaXplKGRhcHBJbmZvKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlcXVlc3QoeyBkYXBwSW5mbywgbmFtZTogSXNDb25uZWN0ZWRSZXF1ZXN0Mi5uYW1lLCB2ZXJzaW9uOiBJc0Nvbm5lY3RlZFJlcXVlc3QyLmN1cnJlbnRWZXJzaW9uIH0pO1xuICB9XG4gIElzQ29ubmVjdGVkUmVxdWVzdDIuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuICBmdW5jdGlvbiBkZXNlcmlhbGl6ZShyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVxdWVzdChyZXF1ZXN0KTtcbiAgfVxuICBJc0Nvbm5lY3RlZFJlcXVlc3QyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGlzU2VyaWFsaXplZChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHJlcXVlc3QubmFtZSA9PT0gSXNDb25uZWN0ZWRSZXF1ZXN0Mi5uYW1lICYmIHJlcXVlc3QudmVyc2lvbiA9PT0gSXNDb25uZWN0ZWRSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbjtcbiAgfVxuICBJc0Nvbm5lY3RlZFJlcXVlc3QyLmlzU2VyaWFsaXplZCA9IGlzU2VyaWFsaXplZDtcbn0pKElzQ29ubmVjdGVkUmVxdWVzdCB8fCAoSXNDb25uZWN0ZWRSZXF1ZXN0ID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL2lzQ29ubmVjdGVkL3Jlc3BvbnNlLnRzXG52YXIgSXNDb25uZWN0ZWRSZXNwb25zZTtcbigoSXNDb25uZWN0ZWRSZXNwb25zZTIpID0+IHtcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXJncyhzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbCh2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmdzKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCb29sKCk7XG4gIH1cbiAgZnVuY3Rpb24gc2VyaWFsaXplKGFyZ3MpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVzcG9uc2UoYXJncywgc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgSXNDb25uZWN0ZWRSZXNwb25zZTIuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuICBmdW5jdGlvbiBkZXNlcmlhbGl6ZShzZXJpYWxpemVkUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVXYWxsZXRSZXNwb25zZShzZXJpYWxpemVkUmVzcG9uc2UsIGRlc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgSXNDb25uZWN0ZWRSZXNwb25zZTIuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbn0pKElzQ29ubmVjdGVkUmVzcG9uc2UgfHwgKElzQ29ubmVjdGVkUmVzcG9uc2UgPSB7fSkpO1xuXG4vLyBzcmMvZmVhdHVyZXMvc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uL3JlcXVlc3QudHNcbmltcG9ydCB7XG4gIEFjY291bnRBZGRyZXNzIGFzIEFjY291bnRBZGRyZXNzNixcbiAgVHJhbnNhY3Rpb25QYXlsb2FkXG59IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbnZhciBTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0O1xuKChTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0MikgPT4ge1xuICBTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0Mi5uYW1lID0gXCJzaWduQW5kU3VibWl0VHJhbnNhY3Rpb25cIjtcbiAgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdDIuc3VwcG9ydGVkVmVyc2lvbnMgPSBbMSwgMiwgM107XG4gIFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlcXVlc3QyLmN1cnJlbnRWZXJzaW9uID0gMztcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXJncyhzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5uZXR3b3JrICE9PSB2b2lkIDAgJiYgIWlzU3VwcG9ydGVkTmV0d29yayh2YWx1ZS5uZXR3b3JrKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBuZXR3b3JrICcke3ZhbHVlLm5ldHdvcmt9J2ApO1xuICAgIH1cbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2wodmFsdWUuc2lnbmVyQWRkcmVzcyAhPT0gdm9pZCAwKTtcbiAgICBpZiAodmFsdWUuc2lnbmVyQWRkcmVzcyAhPT0gdm9pZCAwKSB7XG4gICAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZS5zaWduZXJBZGRyZXNzKTtcbiAgICB9XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVPcHRpb25TdHIodmFsdWUubmV0d29yayk7XG4gICAgaWYgKFwiYmNzVG9CeXRlc1wiIGluIHZhbHVlLnBheWxvYWQpIHtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbCh0cnVlKTtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLnBheWxvYWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2woZmFsc2UpO1xuICAgICAgc2VyaWFsaXplVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXQoc2VyaWFsaXplciwgdmFsdWUucGF5bG9hZCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTY0KHZhbHVlLmV4cGlyYXRpb25UaW1lc3RhbXAgPz8gMCk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgodmFsdWUuZ2FzVW5pdFByaWNlID8/IDApO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KHZhbHVlLm1heEdhc0Ftb3VudCA/PyAwKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVUzMkFzVWxlYjEyOCh2YWx1ZS5mZWVQYXllciA/IDEgOiAwKTtcbiAgICBpZiAodmFsdWUuZmVlUGF5ZXIpIHtcbiAgICAgIHNlcmlhbGl6ZUFjY291bnRBdXRoZW50aWNhdG9ySW5wdXQoc2VyaWFsaXplciwgdmFsdWUuZmVlUGF5ZXIpO1xuICAgIH1cbiAgfVxuICBTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0Mi5zZXJpYWxpemVBcmdzID0gc2VyaWFsaXplQXJncztcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmdzKGRlc2VyaWFsaXplciwgdmVyc2lvbikge1xuICAgIGNvbnN0IGhhc1NpZ25lckFkZHJlc3MgPSB2ZXJzaW9uID49IDMgJiYgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBoYXNTaWduZXJBZGRyZXNzID8gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKEFjY291bnRBZGRyZXNzNikgOiB2b2lkIDA7XG4gICAgY29uc3QgbmV0d29yayA9IHZlcnNpb24gPT09IDEgPyBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVTdHIoKSA6IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZU9wdGlvbihcInN0cmluZ1wiKTtcbiAgICBpZiAobmV0d29yayAhPT0gdm9pZCAwICYmICFpc1N1cHBvcnRlZE5ldHdvcmsobmV0d29yaykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgbmV0d29yayAnJHtuZXR3b3JrfSdgKTtcbiAgICB9XG4gICAgY29uc3QgaXNQYXlsb2FkQmNzU2VyaWFsaXphYmxlID0gdmVyc2lvbiA9PT0gMSB8fCBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCb29sKCk7XG4gICAgY29uc3QgcGF5bG9hZCA9IGlzUGF5bG9hZEJjc1NlcmlhbGl6YWJsZSA/IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShUcmFuc2FjdGlvblBheWxvYWQpIDogZGVzZXJpYWxpemVUcmFuc2FjdGlvblBheWxvYWRJbnB1dChkZXNlcmlhbGl6ZXIpO1xuICAgIGNvbnN0IGV4cGlyYXRpb25UaW1lc3RhbXAgPSBOdW1iZXIoZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVTY0KCkpO1xuICAgIGNvbnN0IGdhc1VuaXRQcmljZSA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICAgIGNvbnN0IG1heEdhc0Ftb3VudCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICAgIGNvbnN0IGhhc0ZlZVBheWVyID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gICAgY29uc3QgZmVlUGF5ZXIgPSBoYXNGZWVQYXllciA/IGRlc2VyaWFsaXplQWNjb3VudEF1dGhlbnRpY2F0b3JJbnB1dChkZXNlcmlhbGl6ZXIpIDogdm9pZCAwO1xuICAgIHJldHVybiB7XG4gICAgICBleHBpcmF0aW9uVGltZXN0YW1wOiBleHBpcmF0aW9uVGltZXN0YW1wID4gMCA/IGV4cGlyYXRpb25UaW1lc3RhbXAgOiB2b2lkIDAsXG4gICAgICBmZWVQYXllcixcbiAgICAgIGdhc1VuaXRQcmljZTogZ2FzVW5pdFByaWNlID4gMCA/IGdhc1VuaXRQcmljZSA6IHZvaWQgMCxcbiAgICAgIG1heEdhc0Ftb3VudDogbWF4R2FzQW1vdW50ID4gMCA/IG1heEdhc0Ftb3VudCA6IHZvaWQgMCxcbiAgICAgIG5ldHdvcmssXG4gICAgICBwYXlsb2FkLFxuICAgICAgc2lnbmVyQWRkcmVzc1xuICAgIH07XG4gIH1cbiAgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdDIuZGVzZXJpYWxpemVBcmdzID0gZGVzZXJpYWxpemVBcmdzO1xuICBmdW5jdGlvbiBzZXJpYWxpemUoZGFwcEluZm8sIGFyZ3MpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0geyBhcmdzLCBkYXBwSW5mbywgbmFtZTogU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdDIubmFtZSwgdmVyc2lvbjogU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdDIuY3VycmVudFZlcnNpb24gfTtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzKHJlcXVlc3QsIHNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlcXVlc3QyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlcXVlc3QpIHtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVXYWxsZXRSZXF1ZXN0V2l0aEFyZ3MoXG4gICAgICBzZXJpYWxpemVkUmVxdWVzdCxcbiAgICAgIChkZXNlcmlhbGl6ZXIpID0+IGRlc2VyaWFsaXplQXJncyhkZXNlcmlhbGl6ZXIsIHNlcmlhbGl6ZWRSZXF1ZXN0LnZlcnNpb24pXG4gICAgKTtcbiAgfVxuICBTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0Mi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWQocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0Lm5hbWUgPT09IFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlcXVlc3QyLm5hbWUgJiYgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdDIuc3VwcG9ydGVkVmVyc2lvbnMuaW5jbHVkZXMocmVxdWVzdC52ZXJzaW9uKTtcbiAgfVxuICBTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0Mi5pc1NlcmlhbGl6ZWQgPSBpc1NlcmlhbGl6ZWQ7XG59KShTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0IHx8IChTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0ID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL3NpZ25BbmRTdWJtaXRUcmFuc2FjdGlvbi9yZXNwb25zZS50c1xudmFyIFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlc3BvbnNlO1xuKChTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXNwb25zZTIpID0+IHtcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXBwcm92YWxBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUudHhuSGFzaCk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcHByb3ZhbEFyZ3MoZGVzZXJpYWxpemVyKSB7XG4gICAgY29uc3QgdHhuSGFzaCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpO1xuICAgIHJldHVybiB7IHR4bkhhc2ggfTtcbiAgfVxuICBjb25zdCBzZXJpYWxpemVBcmdzID0gbWFrZVVzZXJSZXNwb25zZVNlcmlhbGl6ZUZuKHNlcmlhbGl6ZUFwcHJvdmFsQXJncyk7XG4gIGNvbnN0IGRlc2VyaWFsaXplQXJncyA9IG1ha2VVc2VyUmVzcG9uc2VEZXNlcmlhbGl6ZUZuKGRlc2VyaWFsaXplQXBwcm92YWxBcmdzKTtcbiAgZnVuY3Rpb24gc2VyaWFsaXplKGFyZ3MpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVzcG9uc2UoYXJncywgc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVzcG9uc2UyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2Uoc2VyaWFsaXplZFJlc3BvbnNlLCBkZXNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlc3BvbnNlMi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xufSkoU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVzcG9uc2UgfHwgKFNpZ25BbmRTdWJtaXRUcmFuc2FjdGlvblJlc3BvbnNlID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL3NpZ25NZXNzYWdlL3JlcXVlc3QudHNcbmltcG9ydCB7IEFjY291bnRBZGRyZXNzIGFzIEFjY291bnRBZGRyZXNzNyB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbnZhciBTaWduTWVzc2FnZVJlcXVlc3Q7XG4oKFNpZ25NZXNzYWdlUmVxdWVzdDIpID0+IHtcbiAgU2lnbk1lc3NhZ2VSZXF1ZXN0Mi5uYW1lID0gXCJzaWduTWVzc2FnZVwiO1xuICBTaWduTWVzc2FnZVJlcXVlc3QyLnN1cHBvcnRlZFZlcnNpb25zID0gWzEsIDJdO1xuICBTaWduTWVzc2FnZVJlcXVlc3QyLmN1cnJlbnRWZXJzaW9uID0gMjtcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXJncyhzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbCh2YWx1ZS5zaWduZXJBZGRyZXNzICE9PSB2b2lkIDApO1xuICAgIGlmICh2YWx1ZS5zaWduZXJBZGRyZXNzICE9PSB2b2lkIDApIHtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLnNpZ25lckFkZHJlc3MpO1xuICAgIH1cbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZVU4KHZhbHVlLmNoYWluSWQpO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQnl0ZXModmFsdWUubm9uY2UpO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQnl0ZXModmFsdWUubWVzc2FnZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmdzKGRlc2VyaWFsaXplciwgdmVyc2lvbikge1xuICAgIGNvbnN0IGhhc1NpZ25lckFkZHJlc3MgPSB2ZXJzaW9uID49IDIgJiYgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBoYXNTaWduZXJBZGRyZXNzID8gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKEFjY291bnRBZGRyZXNzNykgOiB2b2lkIDA7XG4gICAgY29uc3QgY2hhaW5JZCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVU4KCk7XG4gICAgY29uc3Qgbm9uY2UgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpO1xuICAgIHJldHVybiB7IGNoYWluSWQsIG1lc3NhZ2UsIG5vbmNlLCBzaWduZXJBZGRyZXNzIH07XG4gIH1cbiAgZnVuY3Rpb24gc2VyaWFsaXplKGRhcHBJbmZvLCBhcmdzKSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHsgYXJncywgZGFwcEluZm8sIG5hbWU6IFNpZ25NZXNzYWdlUmVxdWVzdDIubmFtZSwgdmVyc2lvbjogU2lnbk1lc3NhZ2VSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbiB9O1xuICAgIHJldHVybiBzZXJpYWxpemVXYWxsZXRSZXF1ZXN0V2l0aEFyZ3MocmVxdWVzdCwgc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgU2lnbk1lc3NhZ2VSZXF1ZXN0Mi5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplKHNlcmlhbGl6ZWRSZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzKHNlcmlhbGl6ZWRSZXF1ZXN0LCAoZCkgPT4gZGVzZXJpYWxpemVBcmdzKGQsIHNlcmlhbGl6ZWRSZXF1ZXN0LnZlcnNpb24pKTtcbiAgfVxuICBTaWduTWVzc2FnZVJlcXVlc3QyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gIGZ1bmN0aW9uIGlzU2VyaWFsaXplZChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHJlcXVlc3QubmFtZSA9PT0gU2lnbk1lc3NhZ2VSZXF1ZXN0Mi5uYW1lICYmIHJlcXVlc3QudmVyc2lvbiA9PT0gU2lnbk1lc3NhZ2VSZXF1ZXN0Mi5jdXJyZW50VmVyc2lvbjtcbiAgfVxuICBTaWduTWVzc2FnZVJlcXVlc3QyLmlzU2VyaWFsaXplZCA9IGlzU2VyaWFsaXplZDtcbn0pKFNpZ25NZXNzYWdlUmVxdWVzdCB8fCAoU2lnbk1lc3NhZ2VSZXF1ZXN0ID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL3NpZ25NZXNzYWdlL3Jlc3BvbnNlLnRzXG52YXIgU2lnbk1lc3NhZ2VSZXNwb25zZTtcbigoU2lnbk1lc3NhZ2VSZXNwb25zZTIpID0+IHtcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXBwcm92YWxBcmdzKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIodmFsdWUuZnVsbE1lc3NhZ2UpO1xuICAgIHNlcmlhbGl6ZVNpZ25hdHVyZShzZXJpYWxpemVyLCB2YWx1ZS5zaWduYXR1cmUpO1xuICB9XG4gIGZ1bmN0aW9uIGRlc2VyaWFsaXplQXBwcm92YWxBcmdzKGRlc2VyaWFsaXplcikge1xuICAgIGNvbnN0IGZ1bGxNZXNzYWdlID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gZGVzZXJpYWxpemVTaWduYXR1cmUoZGVzZXJpYWxpemVyKTtcbiAgICByZXR1cm4geyBmdWxsTWVzc2FnZSwgc2lnbmF0dXJlIH07XG4gIH1cbiAgY29uc3Qgc2VyaWFsaXplQXJncyA9IG1ha2VVc2VyUmVzcG9uc2VTZXJpYWxpemVGbihzZXJpYWxpemVBcHByb3ZhbEFyZ3MpO1xuICBjb25zdCBkZXNlcmlhbGl6ZUFyZ3MgPSBtYWtlVXNlclJlc3BvbnNlRGVzZXJpYWxpemVGbihkZXNlcmlhbGl6ZUFwcHJvdmFsQXJncyk7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmdzKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVdhbGxldFJlc3BvbnNlKGFyZ3MsIHNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25NZXNzYWdlUmVzcG9uc2UyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2Uoc2VyaWFsaXplZFJlc3BvbnNlLCBkZXNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25NZXNzYWdlUmVzcG9uc2UyLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG59KShTaWduTWVzc2FnZVJlc3BvbnNlIHx8IChTaWduTWVzc2FnZVJlc3BvbnNlID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL3NpZ25UcmFuc2FjdGlvbi9yZXF1ZXN0LnRzXG5pbXBvcnQge1xuICBBY2NvdW50QWRkcmVzcyBhcyBBY2NvdW50QWRkcmVzczgsXG4gIFRyYW5zYWN0aW9uUGF5bG9hZCBhcyBUcmFuc2FjdGlvblBheWxvYWQyXG59IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbnZhciBTaWduVHJhbnNhY3Rpb25SZXF1ZXN0O1xuKChTaWduVHJhbnNhY3Rpb25SZXF1ZXN0MikgPT4ge1xuICBTaWduVHJhbnNhY3Rpb25SZXF1ZXN0Mi5uYW1lID0gXCJzaWduVHJhbnNhY3Rpb25cIjtcbiAgU2lnblRyYW5zYWN0aW9uUmVxdWVzdDIuc3VwcG9ydGVkVmVyc2lvbnMgPSBbMSwgMiwgMywgNF07XG4gIFNpZ25UcmFuc2FjdGlvblJlcXVlc3QyLmN1cnJlbnRWZXJzaW9uID0gNDtcbiAgZnVuY3Rpb24gbm9ybWFsaXplQXJncyhhcmdzKSB7XG4gICAgY29uc3QgeyBmZWVQYXllciwgc2Vjb25kYXJ5U2lnbmVycywgc2VuZGVyUHVibGljS2V5LCBzaWduZXJBZGRyZXNzLCB0cmFuc2FjdGlvbiB9ID0gYXJncztcbiAgICBjb25zdCBzZW5kZXIgPSB7XG4gICAgICBhZGRyZXNzOiB0cmFuc2FjdGlvbi5zZW5kZXIsXG4gICAgICBwdWJsaWNLZXk6IHNlbmRlclB1YmxpY0tleVxuICAgIH07XG4gICAgY29uc3QgbmV0d29yayA9IGNoYWluSWRUb05ldHdvcmsoYXJncy50cmFuc2FjdGlvbi5jaGFpbl9pZC5jaGFpbklkKTtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwaXJhdGlvblRpbWVzdGFtcDogTnVtYmVyKHRyYW5zYWN0aW9uLmV4cGlyYXRpb25fdGltZXN0YW1wX3NlY3MpLFxuICAgICAgZmVlUGF5ZXIsXG4gICAgICBnYXNVbml0UHJpY2U6IE51bWJlcih0cmFuc2FjdGlvbi5nYXNfdW5pdF9wcmljZSksXG4gICAgICBtYXhHYXNBbW91bnQ6IE51bWJlcih0cmFuc2FjdGlvbi5tYXhfZ2FzX2Ftb3VudCksXG4gICAgICBuZXR3b3JrLFxuICAgICAgcGF5bG9hZDogdHJhbnNhY3Rpb24ucGF5bG9hZCxcbiAgICAgIHNlY29uZGFyeVNpZ25lcnMsXG4gICAgICBzZW5kZXIsXG4gICAgICBzaWduZXJBZGRyZXNzXG4gICAgfTtcbiAgfVxuICBTaWduVHJhbnNhY3Rpb25SZXF1ZXN0Mi5ub3JtYWxpemVBcmdzID0gbm9ybWFsaXplQXJncztcbiAgZnVuY3Rpb24gc2VyaWFsaXplQXJncyhzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5uZXR3b3JrICE9PSB2b2lkIDAgJiYgIWlzU3VwcG9ydGVkTmV0d29yayh2YWx1ZS5uZXR3b3JrKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBuZXR3b3JrICcke3ZhbHVlLm5ldHdvcmt9J2ApO1xuICAgIH1cbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2wodmFsdWUuc2lnbmVyQWRkcmVzcyAhPT0gdm9pZCAwKTtcbiAgICBpZiAodmFsdWUuc2lnbmVyQWRkcmVzcyAhPT0gdm9pZCAwKSB7XG4gICAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZS5zaWduZXJBZGRyZXNzKTtcbiAgICB9XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVPcHRpb25TdHIodmFsdWUubmV0d29yayk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVCb29sKHZhbHVlLnNlbmRlciAhPT0gdm9pZCAwKTtcbiAgICBpZiAodmFsdWUuc2VuZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIHNlcmlhbGl6ZUFjY291bnRJbnB1dChzZXJpYWxpemVyLCB2YWx1ZS5zZW5kZXIpO1xuICAgIH1cbiAgICBpZiAoXCJiY3NUb0J5dGVzXCIgaW4gdmFsdWUucGF5bG9hZCkge1xuICAgICAgc2VyaWFsaXplci5zZXJpYWxpemVCb29sKHRydWUpO1xuICAgICAgc2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUucGF5bG9hZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplQm9vbChmYWxzZSk7XG4gICAgICBzZXJpYWxpemVUcmFuc2FjdGlvblBheWxvYWRJbnB1dChzZXJpYWxpemVyLCB2YWx1ZS5wYXlsb2FkKTtcbiAgICB9XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgodmFsdWUuZXhwaXJhdGlvblNlY29uZHNGcm9tTm93ID8/IDApO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTY0KHZhbHVlLmV4cGlyYXRpb25UaW1lc3RhbXAgPz8gMCk7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVVMzJBc1VsZWIxMjgodmFsdWUuZ2FzVW5pdFByaWNlID8/IDApO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KHZhbHVlLm1heEdhc0Ftb3VudCA/PyAwKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2wodmFsdWUuZmVlUGF5ZXIgIT09IHZvaWQgMCk7XG4gICAgaWYgKHZhbHVlLmZlZVBheWVyICE9PSB2b2lkIDApIHtcbiAgICAgIHNlcmlhbGl6ZUFjY291bnRJbnB1dChzZXJpYWxpemVyLCB2YWx1ZS5mZWVQYXllcik7XG4gICAgfVxuICAgIGNvbnN0IHNlY29uZGFyeVNpZ25lcnMgPSB2YWx1ZS5zZWNvbmRhcnlTaWduZXJzID8/IFtdO1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplVTMyQXNVbGViMTI4KHNlY29uZGFyeVNpZ25lcnMubGVuZ3RoKTtcbiAgICBmb3IgKGNvbnN0IHNpZ25lciBvZiBzZWNvbmRhcnlTaWduZXJzKSB7XG4gICAgICBzZXJpYWxpemVBY2NvdW50SW5wdXQoc2VyaWFsaXplciwgc2lnbmVyKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmdzKGRlc2VyaWFsaXplciwgdmVyc2lvbikge1xuICAgIGNvbnN0IGhhc1NpZ25lckFkZHJlc3MgPSB2ZXJzaW9uID49IDMgJiYgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBoYXNTaWduZXJBZGRyZXNzID8gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKEFjY291bnRBZGRyZXNzOCkgOiB2b2lkIDA7XG4gICAgY29uc3QgbmV0d29yayA9IHZlcnNpb24gPT09IDEgPyBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVTdHIoKSA6IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZU9wdGlvbihcInN0cmluZ1wiKTtcbiAgICBpZiAobmV0d29yayAhPT0gdm9pZCAwICYmICFpc1N1cHBvcnRlZE5ldHdvcmsobmV0d29yaykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgbmV0d29yayAnJHtuZXR3b3JrfSdgKTtcbiAgICB9XG4gICAgY29uc3QgaGFzU2VuZGVyID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHNlbmRlciA9IGhhc1NlbmRlciA/IGRlc2VyaWFsaXplQWNjb3VudElucHV0KGRlc2VyaWFsaXplcikgOiB2b2lkIDA7XG4gICAgY29uc3QgaXNQYXlsb2FkQmNzU2VyaWFsaXphYmxlID0gdmVyc2lvbiA8IDQgfHwgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHBheWxvYWQgPSBpc1BheWxvYWRCY3NTZXJpYWxpemFibGUgPyBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoVHJhbnNhY3Rpb25QYXlsb2FkMikgOiBkZXNlcmlhbGl6ZVRyYW5zYWN0aW9uUGF5bG9hZElucHV0KGRlc2VyaWFsaXplcik7XG4gICAgY29uc3QgZXhwaXJhdGlvblNlY29uZHNGcm9tTm93ID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gICAgY29uc3QgZXhwaXJhdGlvblRpbWVzdGFtcCA9IE51bWJlcihkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVVNjQoKSk7XG4gICAgY29uc3QgZ2FzVW5pdFByaWNlID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gICAgY29uc3QgbWF4R2FzQW1vdW50ID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplVWxlYjEyOEFzVTMyKCk7XG4gICAgY29uc3QgaGFzRmVlUGF5ZXIgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCb29sKCk7XG4gICAgY29uc3QgZmVlUGF5ZXIgPSBoYXNGZWVQYXllciA/IGRlc2VyaWFsaXplQWNjb3VudElucHV0KGRlc2VyaWFsaXplcikgOiB2b2lkIDA7XG4gICAgY29uc3Qgc2Vjb25kYXJ5U2lnbmVyc0xlbmd0aCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVVsZWIxMjhBc1UzMigpO1xuICAgIGNvbnN0IHNlY29uZGFyeVNpZ25lcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY29uZGFyeVNpZ25lcnNMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgc2Vjb25kYXJ5U2lnbmVycy5wdXNoKGRlc2VyaWFsaXplQWNjb3VudElucHV0KGRlc2VyaWFsaXplcikpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZXhwaXJhdGlvblNlY29uZHNGcm9tTm93OiBleHBpcmF0aW9uU2Vjb25kc0Zyb21Ob3cgPiAwID8gZXhwaXJhdGlvblNlY29uZHNGcm9tTm93IDogdm9pZCAwLFxuICAgICAgZXhwaXJhdGlvblRpbWVzdGFtcDogZXhwaXJhdGlvblRpbWVzdGFtcCA+IDAgPyBleHBpcmF0aW9uVGltZXN0YW1wIDogdm9pZCAwLFxuICAgICAgZmVlUGF5ZXIsXG4gICAgICBnYXNVbml0UHJpY2U6IGdhc1VuaXRQcmljZSA+IDAgPyBnYXNVbml0UHJpY2UgOiB2b2lkIDAsXG4gICAgICBtYXhHYXNBbW91bnQ6IG1heEdhc0Ftb3VudCA+IDAgPyBtYXhHYXNBbW91bnQgOiB2b2lkIDAsXG4gICAgICBuZXR3b3JrLFxuICAgICAgcGF5bG9hZCxcbiAgICAgIHNlY29uZGFyeVNpZ25lcnMsXG4gICAgICBzZW5kZXIsXG4gICAgICBzaWduZXJBZGRyZXNzXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBzZXJpYWxpemUoZGFwcEluZm8sIGFyZ3MpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0geyBhcmdzLCBkYXBwSW5mbywgbmFtZTogU2lnblRyYW5zYWN0aW9uUmVxdWVzdDIubmFtZSwgdmVyc2lvbjogU2lnblRyYW5zYWN0aW9uUmVxdWVzdDIuY3VycmVudFZlcnNpb24gfTtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzKHJlcXVlc3QsIHNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25UcmFuc2FjdGlvblJlcXVlc3QyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlcXVlc3QpIHtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVXYWxsZXRSZXF1ZXN0V2l0aEFyZ3MoXG4gICAgICBzZXJpYWxpemVkUmVxdWVzdCxcbiAgICAgIChkZXNlcmlhbGl6ZXIpID0+IGRlc2VyaWFsaXplQXJncyhkZXNlcmlhbGl6ZXIsIHNlcmlhbGl6ZWRSZXF1ZXN0LnZlcnNpb24pXG4gICAgKTtcbiAgfVxuICBTaWduVHJhbnNhY3Rpb25SZXF1ZXN0Mi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWQocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0Lm5hbWUgPT09IFNpZ25UcmFuc2FjdGlvblJlcXVlc3QyLm5hbWUgJiYgU2lnblRyYW5zYWN0aW9uUmVxdWVzdDIuc3VwcG9ydGVkVmVyc2lvbnMuaW5jbHVkZXMocmVxdWVzdC52ZXJzaW9uKTtcbiAgfVxuICBTaWduVHJhbnNhY3Rpb25SZXF1ZXN0Mi5pc1NlcmlhbGl6ZWQgPSBpc1NlcmlhbGl6ZWQ7XG59KShTaWduVHJhbnNhY3Rpb25SZXF1ZXN0IHx8IChTaWduVHJhbnNhY3Rpb25SZXF1ZXN0ID0ge30pKTtcblxuLy8gc3JjL2ZlYXR1cmVzL3NpZ25UcmFuc2FjdGlvbi9yZXNwb25zZS50c1xuaW1wb3J0IHsgQWNjb3VudEF1dGhlbnRpY2F0b3IgYXMgQWNjb3VudEF1dGhlbnRpY2F0b3IyLCBSYXdUcmFuc2FjdGlvbiBhcyBSYXdUcmFuc2FjdGlvbjIgfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG52YXIgU2lnblRyYW5zYWN0aW9uUmVzcG9uc2U7XG4oKFNpZ25UcmFuc2FjdGlvblJlc3BvbnNlMikgPT4ge1xuICBmdW5jdGlvbiBzZXJpYWxpemVBcHByb3ZhbEFyZ3Moc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZS5hdXRoZW50aWNhdG9yKTtcbiAgICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJvb2wodmFsdWUucmF3VHJhbnNhY3Rpb24gIT09IHZvaWQgMCk7XG4gICAgaWYgKHZhbHVlLnJhd1RyYW5zYWN0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLnJhd1RyYW5zYWN0aW9uKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcHByb3ZhbEFyZ3MoZGVzZXJpYWxpemVyKSB7XG4gICAgY29uc3QgYXV0aGVudGljYXRvciA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShBY2NvdW50QXV0aGVudGljYXRvcjIpO1xuICAgIGNvbnN0IGhhc1Jhd1RyYW5zYWN0aW9uID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplQm9vbCgpO1xuICAgIGNvbnN0IHJhd1RyYW5zYWN0aW9uID0gaGFzUmF3VHJhbnNhY3Rpb24gPyBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUoUmF3VHJhbnNhY3Rpb24yKSA6IHZvaWQgMDtcbiAgICByZXR1cm4ge1xuICAgICAgYXV0aGVudGljYXRvcixcbiAgICAgIHJhd1RyYW5zYWN0aW9uXG4gICAgfTtcbiAgfVxuICBjb25zdCBzZXJpYWxpemVBcmdzID0gbWFrZVVzZXJSZXNwb25zZVNlcmlhbGl6ZUZuKHNlcmlhbGl6ZUFwcHJvdmFsQXJncyk7XG4gIGNvbnN0IGRlc2VyaWFsaXplQXJncyA9IG1ha2VVc2VyUmVzcG9uc2VEZXNlcmlhbGl6ZUZuKGRlc2VyaWFsaXplQXBwcm92YWxBcmdzKTtcbiAgZnVuY3Rpb24gc2VyaWFsaXplKGFyZ3MpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplV2FsbGV0UmVzcG9uc2UoYXJncywgc2VyaWFsaXplQXJncyk7XG4gIH1cbiAgU2lnblRyYW5zYWN0aW9uUmVzcG9uc2UyLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemUoc2VyaWFsaXplZFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2Uoc2VyaWFsaXplZFJlc3BvbnNlLCBkZXNlcmlhbGl6ZUFyZ3MpO1xuICB9XG4gIFNpZ25UcmFuc2FjdGlvblJlc3BvbnNlMi5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xufSkoU2lnblRyYW5zYWN0aW9uUmVzcG9uc2UgfHwgKFNpZ25UcmFuc2FjdGlvblJlc3BvbnNlID0ge30pKTtcblxuLy8gc3JjL21lc3NhZ2VzL2NvbW1vbi50c1xuZnVuY3Rpb24gaXNUeXBlZE1lc3NhZ2UobWVzc2FnZUNscywgbWVzc2FnZSkge1xuICByZXR1cm4gbWVzc2FnZT8uX19tZXNzYWdlVHlwZSA9PT0gbWVzc2FnZUNscy5UWVBFO1xufVxuXG4vLyBzcmMvbWVzc2FnZXMvcHJvbXB0LnRzXG5pbXBvcnQgeyBEZXNlcmlhbGl6ZXIgYXMgRGVzZXJpYWxpemVyMTYsIFNlcmlhbGl6ZXIgYXMgU2VyaWFsaXplcjE2IH0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xudmFyIF9Qcm9tcHRPcGVuZXJQaW5nUmVxdWVzdE1lc3NhZ2UgPSBjbGFzcyBfUHJvbXB0T3BlbmVyUGluZ1JlcXVlc3RNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fX21lc3NhZ2VUeXBlID0gX1Byb21wdE9wZW5lclBpbmdSZXF1ZXN0TWVzc2FnZS5UWVBFO1xuICB9XG59O1xuX1Byb21wdE9wZW5lclBpbmdSZXF1ZXN0TWVzc2FnZS5UWVBFID0gXCJQcm9tcHRPcGVuZXJQaW5nUmVxdWVzdFwiO1xudmFyIFByb21wdE9wZW5lclBpbmdSZXF1ZXN0TWVzc2FnZSA9IF9Qcm9tcHRPcGVuZXJQaW5nUmVxdWVzdE1lc3NhZ2U7XG52YXIgX1Byb21wdE9wZW5lclBpbmdSZXNwb25zZU1lc3NhZ2UgPSBjbGFzcyBfUHJvbXB0T3BlbmVyUGluZ1Jlc3BvbnNlTWVzc2FnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX19tZXNzYWdlVHlwZSA9IF9Qcm9tcHRPcGVuZXJQaW5nUmVzcG9uc2VNZXNzYWdlLlRZUEU7XG4gIH1cbn07XG5fUHJvbXB0T3BlbmVyUGluZ1Jlc3BvbnNlTWVzc2FnZS5UWVBFID0gXCJQcm9tcHRPcGVuZXJQaW5nUmVzcG9uc2VcIjtcbnZhciBQcm9tcHRPcGVuZXJQaW5nUmVzcG9uc2VNZXNzYWdlID0gX1Byb21wdE9wZW5lclBpbmdSZXNwb25zZU1lc3NhZ2U7XG52YXIgX1Byb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlID0gY2xhc3MgX1Byb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlIHtcbiAgY29uc3RydWN0b3Ioc2VyaWFsaXplZFZhbHVlKSB7XG4gICAgdGhpcy5zZXJpYWxpemVkVmFsdWUgPSBzZXJpYWxpemVkVmFsdWU7XG4gICAgdGhpcy5fX21lc3NhZ2VUeXBlID0gX1Byb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlLlRZUEU7XG4gIH1cbn07XG5fUHJvbXB0QXBwcm92YWxSZXNwb25zZU1lc3NhZ2UuVFlQRSA9IFwiUHJvbXB0QXBwcm92YWxSZXNwb25zZVwiO1xudmFyIFByb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlID0gX1Byb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlO1xudmFyIF9Qcm9tcHRVbmF1dGhvcml6ZWRFcnJvck1lc3NhZ2UgPSBjbGFzcyBfUHJvbXB0VW5hdXRob3JpemVkRXJyb3JNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fX21lc3NhZ2VUeXBlID0gX1Byb21wdFVuYXV0aG9yaXplZEVycm9yTWVzc2FnZS5UWVBFO1xuICB9XG59O1xuX1Byb21wdFVuYXV0aG9yaXplZEVycm9yTWVzc2FnZS5UWVBFID0gXCJQcm9tcHRVbmF1dGhvcml6ZWRFcnJvclwiO1xudmFyIFByb21wdFVuYXV0aG9yaXplZEVycm9yTWVzc2FnZSA9IF9Qcm9tcHRVbmF1dGhvcml6ZWRFcnJvck1lc3NhZ2U7XG5mdW5jdGlvbiB1cmxFbmNvZGVXYWxsZXRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBTZXJpYWxpemVyMTYoKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIocmVxdWVzdC5uYW1lKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVCeXRlcyhyZXF1ZXN0LmRhdGEpO1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZVN0cihyZXF1ZXN0LnZlcnNpb24udG9TdHJpbmcoKSk7XG4gIHJldHVybiBieXRlc1RvQmFzZTY0KHNlcmlhbGl6ZXIudG9VaW50OEFycmF5KCkpO1xufVxuZnVuY3Rpb24gdXJsRGVjb2RlV2FsbGV0UmVxdWVzdChlbmNvZGVkUmVxdWVzdCkge1xuICBjb25zdCBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyMTYoYmFzZTY0VG9CeXRlcyhlbmNvZGVkUmVxdWVzdCkpO1xuICBjb25zdCBuYW1lID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplU3RyKCk7XG4gIGNvbnN0IGRhdGEgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVCeXRlcygpO1xuICBsZXQgdmVyc2lvbjtcbiAgdHJ5IHtcbiAgICB2ZXJzaW9uID0gTnVtYmVyKGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZVN0cigpKTtcbiAgfSBjYXRjaCB7XG4gICAgdmVyc2lvbiA9IDE7XG4gIH1cbiAgcmV0dXJuIHsgZGF0YSwgbmFtZSwgdmVyc2lvbiB9O1xufVxuXG4vLyBzcmMvUG9wdXBXYWxsZXRSZXF1ZXN0LnRzXG5pbXBvcnQge1xuICBBY2NvdW50QWRkcmVzcyBhcyBBY2NvdW50QWRkcmVzczksXG4gIEVkMjU1MTlQdWJsaWNLZXkgYXMgRWQyNTUxOVB1YmxpY0tleTIsXG4gIEVkMjU1MTlTaWduYXR1cmUgYXMgRWQyNTUxOVNpZ25hdHVyZTIsXG4gIFNlcmlhbGl6ZXIgYXMgU2VyaWFsaXplcjE3XG59IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcblxuLy8gc3JjL1dhbGxldFJlcXVlc3RCb2R5LnRzXG5mdW5jdGlvbiBlbmNvZGVXYWxsZXRSZXF1ZXN0Qm9keSh7IGRhdGEsIC4uLnJlc3QgfSkge1xuICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoeyBkYXRhLCAuLi5yZXN0IH0sIChrZXksIHZhbHVlKSA9PiBrZXkgPT09IFwiZGF0YVwiID8gYnl0ZXNUb0Jhc2U2NCh2YWx1ZSkgOiB2YWx1ZSk7XG4gIGNvbnN0IHV0ZjhFbmNvZGVkID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlcmlhbGl6ZWQpO1xuICByZXR1cm4gYnl0ZXNUb0Jhc2U2NCh1dGY4RW5jb2RlZCk7XG59XG5mdW5jdGlvbiBkZWNvZGVXYWxsZXRSZXF1ZXN0Qm9keShlbmNvZGVkKSB7XG4gIGNvbnN0IHV0ZkVuY29kZWQgPSBiYXNlNjRUb0J5dGVzKGVuY29kZWQpO1xuICBjb25zdCBzZXJpYWxpemVkID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHV0ZkVuY29kZWQpO1xuICByZXR1cm4gSlNPTi5wYXJzZShzZXJpYWxpemVkLCAoa2V5LCB2YWx1ZSkgPT4ga2V5ID09PSBcImRhdGFcIiA/IGJhc2U2NFRvQnl0ZXModmFsdWUpIDogdmFsdWUpO1xufVxuXG4vLyBzcmMvUG9wdXBXYWxsZXRSZXF1ZXN0LnRzXG5mdW5jdGlvbiBlbmNvZGVQb3B1cFdhbGxldFJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkocmVxdWVzdCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgcmV0dXJuIGVuY29kZVdhbGxldFJlcXVlc3RCb2R5KHZhbHVlKTtcbiAgICAgIGNhc2UgXCJjbGllbnRJZGVudGl0eUtleVwiOlxuICAgICAgICByZXR1cm4gYnl0ZXNUb0Jhc2U2NCh2YWx1ZS50b1VpbnQ4QXJyYXkoKSk7XG4gICAgICBjYXNlIFwic2lnbmF0dXJlXCI6XG4gICAgICAgIHJldHVybiBieXRlc1RvQmFzZTY0KHZhbHVlLnRvVWludDhBcnJheSgpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB1dGY4RW5jb2RlZCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZXJpYWxpemVkKTtcbiAgcmV0dXJuIGJ5dGVzVG9CYXNlNjR1cmwodXRmOEVuY29kZWQpO1xufVxuZnVuY3Rpb24gZGVjb2RlUG9wdXBXYWxsZXRSZXF1ZXN0KGVuY29kZWQpIHtcbiAgY29uc3QgdXRmRW5jb2RlZCA9IGJhc2U2NHVybFRvQnl0ZXMoZW5jb2RlZCk7XG4gIGNvbnN0IHNlcmlhbGl6ZWQgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodXRmRW5jb2RlZCk7XG4gIHJldHVybiBKU09OLnBhcnNlKHNlcmlhbGl6ZWQsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgIHJldHVybiBkZWNvZGVXYWxsZXRSZXF1ZXN0Qm9keSh2YWx1ZSk7XG4gICAgICBjYXNlIFwiY2xpZW50SWRlbnRpdHlLZXlcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBFZDI1NTE5UHVibGljS2V5MihiYXNlNjRUb0J5dGVzKHZhbHVlKSk7XG4gICAgICBjYXNlIFwic2lnbmF0dXJlXCI6XG4gICAgICAgIHJldHVybiBuZXcgRWQyNTUxOVNpZ25hdHVyZTIoYmFzZTY0VG9CeXRlcyh2YWx1ZSkpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBtYWtlUG9wdXBXYWxsZXRSZXF1ZXN0Q2hhbGxlbmdlKHtcbiAgYWNjb3VudEFkZHJlc3MsXG4gIGJvZHksXG4gIGlkLFxuICB0aW1lc3RhbXBcbn0pIHtcbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBTZXJpYWxpemVyMTcoKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIoXCJTaWduZWRQb3B1cFdhbGxldFJlcXVlc3RcIik7XG4gIHNlcmlhbGl6ZXIuc2VyaWFsaXplU3RyKGlkKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVVNjQodGltZXN0YW1wKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVCb29sKGFjY291bnRBZGRyZXNzICE9PSB2b2lkIDApO1xuICBpZiAoYWNjb3VudEFkZHJlc3MgIT09IHZvaWQgMCkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplKEFjY291bnRBZGRyZXNzOS5mcm9tKGFjY291bnRBZGRyZXNzKSk7XG4gIH1cbiAgc2VyaWFsaXplci5zZXJpYWxpemVTdHIoYm9keS5uYW1lKTtcbiAgc2VyaWFsaXplci5zZXJpYWxpemVVOChib2R5LnZlcnNpb24pO1xuICBzZXJpYWxpemVyLnNlcmlhbGl6ZUJ5dGVzKGJvZHkuZGF0YSk7XG4gIHJldHVybiBzZXJpYWxpemVyLnRvVWludDhBcnJheSgpO1xufVxuZXhwb3J0IHtcbiAgQ29ubmVjdFJlcXVlc3QsXG4gIENvbm5lY3RSZXNwb25zZSxcbiAgRGlzY29ubmVjdFJlcXVlc3QsXG4gIERpc2Nvbm5lY3RSZXNwb25zZSxcbiAgRW50cnlGdW5jdGlvbkFyZ3VtZW50VmFyaWFudCxcbiAgR2V0Q29ubmVjdGVkQWNjb3VudHNSZXF1ZXN0LFxuICBHZXRDb25uZWN0ZWRBY2NvdW50c1Jlc3BvbnNlLFxuICBJc0Nvbm5lY3RlZFJlcXVlc3QsXG4gIElzQ29ubmVjdGVkUmVzcG9uc2UsXG4gIFByb21wdEFwcHJvdmFsUmVzcG9uc2VNZXNzYWdlLFxuICBQcm9tcHRPcGVuZXJQaW5nUmVxdWVzdE1lc3NhZ2UsXG4gIFByb21wdE9wZW5lclBpbmdSZXNwb25zZU1lc3NhZ2UsXG4gIFByb21wdFVuYXV0aG9yaXplZEVycm9yTWVzc2FnZSxcbiAgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVzcG9uc2UsXG4gIFNpZ25JblJlcXVlc3QsXG4gIFNpZ25JblJlc3BvbnNlLFxuICBTaWduTWVzc2FnZVJlcXVlc3QsXG4gIFNpZ25NZXNzYWdlUmVzcG9uc2UsXG4gIFNpZ25UcmFuc2FjdGlvblJlcXVlc3QsXG4gIFNpZ25UcmFuc2FjdGlvblJlc3BvbnNlLFxuICBUcmFuc2FjdGlvblBheWxvYWRJbnB1dFZhcmlhbnQsXG4gIGJhc2U2NFRvQnl0ZXMsXG4gIGJhc2U2NHVybFRvQnl0ZXMsXG4gIGJ5dGVzVG9CYXNlNjQsXG4gIGJ5dGVzVG9CYXNlNjR1cmwsXG4gIGNoYWluSWRUb05ldHdvcmssXG4gIGRlY29kZVBvcHVwV2FsbGV0UmVxdWVzdCxcbiAgZGVjb2RlV2FsbGV0UmVxdWVzdEJvZHksXG4gIGRlc2VyaWFsaXplQWNjb3VudEF1dGhlbnRpY2F0b3JJbnB1dCxcbiAgZGVzZXJpYWxpemVBY2NvdW50SW5mbyxcbiAgZGVzZXJpYWxpemVBY2NvdW50SW5wdXQsXG4gIGRlc2VyaWFsaXplRGFwcEluZm8sXG4gIGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZ3VtZW50LFxuICBkZXNlcmlhbGl6ZVB1YmxpY0tleSxcbiAgZGVzZXJpYWxpemVTaWduYXR1cmUsXG4gIGRlc2VyaWFsaXplVHJhbnNhY3Rpb25QYXlsb2FkSW5wdXQsXG4gIGRlc2VyaWFsaXplV2FsbGV0UmVxdWVzdCxcbiAgZGVzZXJpYWxpemVXYWxsZXRSZXF1ZXN0V2l0aEFyZ3MsXG4gIGRlc2VyaWFsaXplV2FsbGV0UmVzcG9uc2UsXG4gIGVuY29kZVBvcHVwV2FsbGV0UmVxdWVzdCxcbiAgZW5jb2RlV2FsbGV0UmVxdWVzdEJvZHksXG4gIGlzU3VwcG9ydGVkTmV0d29yayxcbiAgaXNUeXBlZE1lc3NhZ2UsXG4gIG1ha2VQb3B1cFdhbGxldFJlcXVlc3RDaGFsbGVuZ2UsXG4gIG1ha2VVc2VyQXBwcm92YWwsXG4gIG1ha2VVc2VyUmVzcG9uc2VEZXNlcmlhbGl6ZUZuLFxuICBtYWtlVXNlclJlc3BvbnNlU2VyaWFsaXplRm4sXG4gIHNlcmlhbGl6ZUFjY291bnRBdXRoZW50aWNhdG9ySW5wdXQsXG4gIHNlcmlhbGl6ZUFjY291bnRJbmZvLFxuICBzZXJpYWxpemVBY2NvdW50SW5wdXQsXG4gIHNlcmlhbGl6ZURhcHBJbmZvLFxuICBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJndW1lbnQsXG4gIHNlcmlhbGl6ZVB1YmxpY0tleSxcbiAgc2VyaWFsaXplU2lnbmF0dXJlLFxuICBzZXJpYWxpemVUcmFuc2FjdGlvblBheWxvYWRJbnB1dCxcbiAgc2VyaWFsaXplV2FsbGV0UmVxdWVzdCxcbiAgc2VyaWFsaXplV2FsbGV0UmVxdWVzdFdpdGhBcmdzLFxuICBzZXJpYWxpemVXYWxsZXRSZXNwb25zZSxcbiAgdXJsRGVjb2RlV2FsbGV0UmVxdWVzdCxcbiAgdXJsRW5jb2RlV2FsbGV0UmVxdWVzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@aptos-connect/wallet-api/dist/index.mjs\n");

/***/ })

};
;